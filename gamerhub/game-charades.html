<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couples Charades - PlayHub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Base Styles from 21 Questions */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #fafbff; color: #1a1a1a; overflow-x: hidden; position: relative; min-height: 100vh; }
        h1, h2, h3 { font-family: 'Bebas Neue', sans-serif; letter-spacing: 1px; }

        /* Animated background blobs (Copied directly for consistency) */
        .bg-shape { position: fixed; pointer-events: none; z-index: 0; opacity: 0.6; }
        .shape-1 { top: -80px; right: -80px; width: 350px; height: 350px; background: linear-gradient(135deg, #ff6b9d30 0%, #c4456930 100%); border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; animation: morph 10s ease-in-out infinite; }
        .shape-2 { top: 50%; left: -120px; width: 300px; height: 300px; background: linear-gradient(135deg, #ff6b9d30 0%, #c4456930 100%); border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; animation: morph 12s ease-in-out infinite reverse; }
        .shape-3 { bottom: -80px; right: 15%; width: 280px; height: 280px; background: linear-gradient(135deg, #ff6b9d30 0%, #c4456930 100%); border-radius: 50% 50% 30% 70% / 50% 50% 70% 30%; animation: morph 14s ease-in-out infinite; }
        @keyframes morph { 0%, 100% { border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; transform: rotate(0deg); } 50% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; transform: rotate(5deg); } }

        .container { max-width: 900px; margin: 0 auto; padding: 0 40px; position: relative; z-index: 1; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* Navigation Styles */
        nav { padding: 30px 0; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid #1a1a1a; margin-bottom: 40px; position: relative; z-index: 10; }
        .logo-nav { font-family: 'Bebas Neue', sans-serif; font-size: 2.1rem; letter-spacing: 2px; color: #1a1a1a; text-decoration: none; }
        .back-btn { display: inline-flex; align-items: center; gap: 8px; color: #666; text-decoration: none; font-weight: 700; font-size: 0.95rem; transition: color 0.3s ease; }
        .back-btn:hover { color: #1a1a1a; }

        /* Game Container */
        .game-content { flex: 1; display: flex; flex-direction: column; padding-bottom: 60px; }
        
        /* Mode Selection Screen */
        .mode-selection-screen { max-width: 800px; margin: 40px auto; }
        .mode-header { text-align: center; margin-bottom: 50px; }
        .mode-header h2 { font-size: 4.5rem; line-height: 1; margin-bottom: 15px; text-shadow: 2px 2px 0 rgba(255, 107, 157, 0.2); }
        .mode-header p { font-size: 1.2rem; color: #666; font-weight: 500; }
        .modes-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .mode-card { background: white; border: 3px solid #1a1a1a; padding: 40px 30px; cursor: pointer; transition: all 0.3s ease; box-shadow: 5px 5px 0 #e0e0e0; text-align: center; }
        .mode-card:hover { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #e0e0e0; }
        .mode-icon { font-size: 3rem; margin-bottom: 15px; }
        .mode-card h3 { font-size: 2rem; margin-bottom: 10px; line-height: 1; }
        .mode-description { font-size: 0.95rem; color: #666; margin-bottom: 12px; font-weight: 500; line-height: 1.5; }

        /* Game Screen */
        .game-screen { display: none; }
        .progress-bar-container { background: white; border: 3px solid #1a1a1a; padding: 8px; margin-bottom: 40px; box-shadow: 4px 4px 0 #e0e0e0; }
        .progress-bar { height: 12px; background: #f0f0f0; position: relative; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); transition: width 0.3s ease; }
        .game-header { text-align: center; margin-bottom: 40px; position: relative; }
        .quit-btn { position: absolute; right: 0; top: 0; background: white; border: 2px solid #1a1a1a; padding: 8px 20px; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 1px; cursor: pointer; transition: all 0.3s ease; color: #666; }
        .quit-btn:hover { background: #f0f0f0; color: #1a1a1a; }
        .category-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem; color: #ff6b9d; letter-spacing: 2px; margin-bottom: 8px; }
        .question-counter { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; color: #666; letter-spacing: 1px; }

        .prompt-card { 
            background: #1a1a1a; /* Dark background for obscured text */
            color: #1a1a1a; /* Text color matching background (obscured) */
            border: 4px solid #1a1a1a; 
            padding: 60px 50px; 
            margin-bottom: 40px; 
            box-shadow: 8px 8px 0 #e0e0e0; 
            min-height: 280px; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            transition: all 0.5s ease;
        }

        .prompt-text { 
            font-size: 1.8rem; 
            line-height: 1.5; 
            text-align: center; 
            font-weight: 600; 
            transition: color 0.5s ease;
        }

        .prompt-card.revealed {
            background: white; /* White background for revealed text */
            color: #1a1a1a;
        }

        .prompt-card.revealed .prompt-text {
             color: #1a1a1a !important; /* Make text visible */
        }
        
        .reveal-btn {
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            color: white;
            border-color: #8b2e47;
            box-shadow: 5px 5px 0 #8b2e47;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 1px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .reveal-btn:hover:not(:disabled) {
            transform: translate(2px, -2px);
            box-shadow: 3px 3px 0 #8b2e47;
        }

        .navigation { display: flex; gap: 15px; }
        .nav-btn { flex: 1; padding: 18px 30px; font-size: 1.2rem; font-family: 'Bebas Neue', sans-serif; letter-spacing: 1px; border: 3px solid #1a1a1a; cursor: pointer; transition: all 0.3s ease; }
        .nav-btn.prev { background: white; color: #1a1a1a; box-shadow: 5px 5px 0 #e0e0e0; }
        .nav-btn.prev:hover:not(:disabled) { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #e0e0e0; }
        .nav-btn.next { background: #1a1a1a; color: white; border-color: #1a1a1a; box-shadow: 5px 5px 0 #e0e0e0; }
        .nav-btn.next:hover:not(:disabled) { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #e0e0e0; }
        .nav-btn:disabled { opacity: 0.4; cursor: not-allowed; }

        /* End Screen (Copied from 21 Questions) */
        .end-screen { display: none; text-align: center; max-width: 700px; margin: 80px auto; }
        .end-screen h2 { font-size: 5.5rem; line-height: 1; margin-bottom: 30px; text-shadow: 3px 3px 0 rgba(255, 107, 157, 0.2); }
        .end-message { font-size: 1.3rem; line-height: 1.8; color: #666; margin-bottom: 50px; font-weight: 500; }
        .end-actions { display: flex; flex-direction: column; gap: 15px; }
        .action-btn { padding: 18px 40px; font-size: 1.3rem; font-family: 'Bebas Neue', sans-serif; letter-spacing: 1px; border: 3px solid #1a1a1a; cursor: pointer; transition: all 0.3s ease; }
        .action-btn.primary { background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); color: white; border-color: #8b2e47; box-shadow: 5px 5px 0 #8b2e47; }
        .action-btn.primary:hover { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #8b2e47; }
        .action-btn.secondary { background: white; color: #1a1a1a; box-shadow: 5px 5px 0 #e0e0e0; }
        .action-btn.secondary:hover { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #e0e0e0; }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container { padding: 0 20px; }
            .mode-header h2, .end-screen h2 { font-size: 3.5rem; }
            .modes-grid { grid-template-columns: 1fr; }
            .quit-btn { position: static; margin-bottom: 15px; display: block; width: 100%; }
            .prompt-text { font-size: 1.4rem; }
            .prompt-card { padding: 40px 30px; min-height: 240px; }
            .nav-btn { font-size: 1.1rem; padding: 15px 20px; }
        }

        /* Utility */
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>
    <div class="bg-shape shape-3"></div>

    <div class="container">
        <nav>
            <a href="index.html" class="logo-nav">PLAYHUB</a>
            <a href="date-night.html" class="back-btn">
                ‚Üê Back to Games
            </a>
        </nav>

        <div class="game-content">
            <div class="mode-selection-screen" id="modeSelection">
                <div class="mode-header">
                    <h2>COUPLES CHARADES</h2>
                    <p>Choose your challenge: Act it out or Draw it out!</p>
                </div>

                <div class="modes-grid">
                    <div class="mode-card" onclick="startGame('charades')">
                        <div class="mode-icon">üé≠</div>
                        <h3>CHARADES (ACTING)</h3>
                        <p class="mode-description">Act out the prompt without speaking. Great for getting silly and physical.</p>
                    </div>

                    <div class="mode-card" onclick="startGame('pictionary')">
                        <div class="mode-icon">üé®</div>
                        <h3>PICTIONARY (DRAWING)</h3>
                        <p class="mode-description">Draw the prompt for your partner to guess. Requires paper and pen (or tablet!).</p>
                    </div>
                </div>
            </div>

            <div class="game-screen" id="gameScreen">
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <div class="game-header">
                    <button class="quit-btn" onclick="quitToModeSelection()">QUIT</button>
                    <div class="category-title" id="modeTitle">CHARADES (ACTING)</div>
                    <div class="question-counter" id="promptCounter">PROMPT 1 OF 15</div>
                </div>

                <div class="prompt-card" id="promptCard">
                    <p class="prompt-text" id="promptText">
                        Click "REVEAL" below to see your prompt. Only the acting/drawing partner should look!
                    </p>
                    <button class="reveal-btn" id="revealBtn" onclick="revealPrompt()">REVEAL PROMPT</button>
                </div>

                <div class="navigation">
                    <button class="nav-btn prev" id="prevBtn" onclick="previousPrompt()" disabled>‚Üê PREVIOUS</button>
                    <button class="nav-btn next" id="nextBtn" onclick="nextPrompt()">NEXT ‚Üí</button>
                </div>
            </div>

            <div class="end-screen" id="endScreen">
                <h2>GREAT SHOW! üéâ</h2>
                <p class="end-message">
                    You've finished all the prompts in this pack. Time to relax, or try the other mode!
                </p>
                <div class="end-actions">
                    <button class="action-btn primary" onclick="quitToModeSelection()">TRY A DIFFERENT MODE</button>
                    <button class="action-btn secondary" onclick="backToGames()">BACK TO DATE NIGHT</button>
                </div>
            </div>
        </div>

        <footer>
            </footer>
    </div>

    <script>
        // --- GAME STATE & DATA ---
        let currentPromptIndex = 0;
        let currentMode = '';
        let currentPrompts = [];
        const TOTAL_PROMPTS = 15; // Define a set length for the game

        // Prompt Banks - Focused on couple-friendly, silly, and common items/actions
        const promptBanks = {
            charades: [
                "Making out in the rain", "The first time we met", "Trying to assemble IKEA furniture",
                "Singing terribly in the shower", "A clumsy waiter", "Changing a baby's diaper",
                "A cat demanding food", "Proposing (silly version)", "A bad massage",
                "Doing the laundry (and failing)", "Stuck in a crowded elevator", "The perfect proposal",
                "A very dramatic breakup scene", "Waking up late for work", "Eating a giant messy burger",
                "Running for a bus", "A nervous public speaker", "Trying to parallel park",
                "Dancing badly to a good song", "A superhero flying away"
            ].slice(0, TOTAL_PROMPTS), // Use first 15
            
            pictionary: [
                "Couple's matching tattoo", "A honeymoon suitcase", "A romantic picnic basket",
                "A shared password", "A pet name (like 'Honeybear')", "Netflix and Chill",
                "Future Dream House", "Inside Joke", "A secret handshake",
                "The 'I love you' sign language", "A bad haircut", "A wedding cake",
                "The moment you fell in love", "A couple's argument", "A joint bank account",
                "A ring in a champagne glass", "Two hearts sharing an arrow", "A trip to Paris",
                "A stolen kiss", "A romantic movie title"
            ].slice(0, TOTAL_PROMPTS) // Use first 15
        };

        // --- SCREEN NAVIGATION FUNCTIONS ---

        function init() {
            // Check if the game was loaded with a direct mode link (optional)
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode');
            if (mode && promptBanks[mode]) {
                startGame(mode);
            } else {
                document.getElementById('modeSelection').style.display = 'block';
            }
        }

        function startGame(modeId) {
            currentMode = modeId;
            currentPrompts = promptBanks[modeId];
            currentPromptIndex = 0;
            
            document.getElementById('modeSelection').classList.add('hidden');
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('modeTitle').textContent = modeId === 'charades' ? 'üé≠ CHARADES (ACTING)' : 'üé® PICTIONARY (DRAWING)';
            
            updateDisplay();
        }

        function updateDisplay() {
            const totalPrompts = currentPrompts.length;
            const progress = ((currentPromptIndex + 1) / totalPrompts) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('promptCounter').textContent = `PROMPT ${currentPromptIndex + 1} OF ${totalPrompts}`;
            
            // Set the prompt text (it will be obscured by default CSS)
            document.getElementById('promptText').textContent = currentPrompts[currentPromptIndex];
            
            // Reset the card state for a new prompt
            const promptCard = document.getElementById('promptCard');
            const revealBtn = document.getElementById('revealBtn');
            promptCard.classList.remove('revealed');
            revealBtn.style.display = 'block';
            
            document.getElementById('prevBtn').disabled = currentPromptIndex === 0;
            document.getElementById('nextBtn').textContent = currentPromptIndex === totalPrompts - 1 ? 'FINISH' : 'NEXT ‚Üí';
        }

        function revealPrompt() {
            document.getElementById('promptCard').classList.add('revealed');
            document.getElementById('revealBtn').style.display = 'none';
        }

        function nextPrompt() {
            if (currentPromptIndex === currentPrompts.length - 1) {
                showEndScreen();
            } else {
                currentPromptIndex++;
                updateDisplay();
            }
        }

        function previousPrompt() {
            if (currentPromptIndex > 0) {
                currentPromptIndex--;
                updateDisplay();
            }
        }

        function showEndScreen() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('endScreen').style.display = 'block';
            // Update end screen message based on mode
            const modeText = currentMode === 'charades' ? 'acting' : 'drawing';
            document.querySelector('.end-message').textContent = `You've finished all the ${currentPrompts.length} ${modeText} prompts! Time to relax, or try the other mode!`;
        }

        function quitToModeSelection() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('endScreen').style.display = 'none';
            document.getElementById('modeSelection').classList.remove('hidden');
            document.getElementById('modeSelection').style.display = 'block';
            currentPromptIndex = 0;
        }

        function backToGames() {
            window.location.href = 'date-night.html';
        }

        // --- KEYBOARD NAVIGATION ---
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('gameScreen').style.display === 'block') {
                if (e.key === 'ArrowLeft' && currentPromptIndex > 0) {
                    previousPrompt();
                } else if (e.key === 'ArrowRight') {
                    nextPrompt();
                }
            }
        });

        window.onload = init;
    </script>
</body>
</html>
