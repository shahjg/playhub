<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Game - TheGaming.co</title>
    <link rel="stylesheet" href="/header.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&family=Creepster&family=Bangers&family=Fredoka+One&family=Orbitron:wght@700&family=Permanent+Marker&family=Caveat:wght@700&family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--accent:#14b8a6;--accent-glow:rgba(20,184,166,0.4);--bg:#0a0a0f;--border:rgba(255,255,255,0.1);--text:#fff;--muted:rgba(255,255,255,0.6)}
        body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;overflow-x:hidden}
        .bg-container{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}
        .bg-base{position:absolute;inset:0}.bg-scene{position:absolute;inset:0}

        .theme-spyfall{--accent:#14b8a6;--accent-glow:rgba(20,184,166,0.6)}
        .theme-spyfall .bg-base{background:linear-gradient(180deg,#0a2525 0%,#061818 50%,#0a1a1a 100%)}
        .theme-spyfall .bg-scene{background:repeating-linear-gradient(90deg,transparent 0 80px,rgba(20,184,166,0.12) 80px 81px),repeating-linear-gradient(0deg,transparent 0 80px,rgba(20,184,166,0.12) 80px 81px)}
        .theme-spyfall .bg-scene::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:500px;height:500px;background:conic-gradient(from 0deg,transparent 0deg,rgba(20,184,166,0.5) 10deg,transparent 20deg);border-radius:50%;animation:radarSweep 4s linear infinite}
        @keyframes radarSweep{from{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}

        .theme-avalon{--accent:#fbbf24;--accent-glow:rgba(251,191,36,0.6)}
        .theme-avalon .bg-base{background:linear-gradient(180deg,#1f1a08 0%,#2a1f0a 40%,#15100a 100%)}
        .theme-avalon .bg-scene::before{content:'';position:absolute;bottom:0;left:0;right:0;height:320px;background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1400 300'%3E%3Cpath d='M0 300V150h50V100h40v50h80V80h30V40h40V80h30v70h100V100h30V60h20V30h30V60h20v40h30v50h120V80h40V40h30V80h40v70h100V100h30V60h40v40h30v50h90V80h30V40h20V80h30v70h120v150H0z' fill='%23fbbf24' fill-opacity='0.2'/%3E%3C/svg%3E") bottom center/cover no-repeat}
        .theme-avalon .bg-scene::after{content:'üëë';position:absolute;top:10%;left:50%;transform:translateX(-50%);font-size:120px;opacity:0.2;animation:crownFloat 4s ease-in-out infinite}
        @keyframes crownFloat{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-15px)}}

        .theme-werewolf{--accent:#a855f7;--accent-glow:rgba(168,85,247,0.6)}
        .theme-werewolf .bg-base{background:linear-gradient(180deg,#1a0a30 0%,#200a38 40%,#0f0520 100%)}
        .theme-werewolf .bg-scene::before{content:'';position:absolute;top:5%;right:10%;width:150px;height:150px;background:radial-gradient(circle,rgba(255,255,220,1) 0%,rgba(255,255,200,0.8) 30%,transparent 70%);border-radius:50%;box-shadow:0 0 80px 40px rgba(255,255,200,0.4),0 0 150px 80px rgba(168,85,247,0.3)}
        .theme-werewolf .bg-scene::after{content:'';position:absolute;bottom:0;left:0;right:0;height:45%;background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1400 400'%3E%3Cpath d='M0 400V250c40 0 50-50 80-50s30 40 60 30 50-80 80-70 60 60 90 50 30-60 70-50 40 40 70 30 50-50 80-40 60 30 90 20 30-30 70-20 40 20 60 10 50-30 80-20 60 20 90 10 30-20 70-10 40 10 60 0l100 40v400H0z' fill='%231a0525'/%3E%3C/svg%3E") bottom center/cover no-repeat}
        .theme-werewolf .game-title{font-family:'Creepster',cursive!important;letter-spacing:8px!important}

        .theme-imposter{--accent:#ef4444;--accent-glow:rgba(239,68,68,0.6)}
        .theme-imposter .bg-base{background:linear-gradient(180deg,#250808 0%,#300a0a 40%,#180505 100%)}
        .theme-imposter .bg-scene{background:repeating-linear-gradient(45deg,transparent 0 20px,rgba(239,68,68,0.08) 20px 22px);animation:alertMove 1s linear infinite}
        @keyframes alertMove{from{background-position:0 0}to{background-position:42px 42px}}
        .theme-imposter .bg-scene::before{content:'‚ö†';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:300px;opacity:0.1;animation:alertPulse 1s ease-in-out infinite}
        @keyframes alertPulse{0%,100%{opacity:0.08;transform:translate(-50%,-50%) scale(1)}50%{opacity:0.15;transform:translate(-50%,-50%) scale(1.05)}}

        .theme-fake-artist{--accent:#ec4899;--accent-glow:rgba(236,72,153,0.6)}
        .theme-fake-artist .bg-base{background:linear-gradient(135deg,#250a1d 0%,#0f1825 50%,#1a0a28 100%)}
        .theme-fake-artist .bg-scene::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 15% 25%,rgba(236,72,153,0.5) 0%,transparent 25%),radial-gradient(circle at 85% 20%,rgba(168,85,247,0.4) 0%,transparent 20%),radial-gradient(circle at 80% 75%,rgba(59,130,246,0.4) 0%,transparent 25%),radial-gradient(circle at 20% 70%,rgba(34,197,94,0.35) 0%,transparent 20%);filter:blur(50px)}
        .theme-fake-artist .bg-scene::after{content:'üé®';position:absolute;top:10%;left:50%;transform:translateX(-50%) rotate(-10deg);font-size:140px;opacity:0.25}
        .theme-fake-artist .game-title{background:linear-gradient(90deg,#ec4899,#a855f7,#3b82f6,#22c55e,#eab308,#ec4899)!important;background-size:300% auto;-webkit-background-clip:text!important;-webkit-text-fill-color:transparent!important;animation:rainbowShift 4s linear infinite!important}
        @keyframes rainbowShift{0%{background-position:0% center}100%{background-position:300% center}}

        .theme-codenames{--accent:#dc2626;--accent-glow:rgba(220,38,38,0.5)}
        .theme-codenames .bg-base{background:linear-gradient(180deg,#1a1008 0%,#0f0a05 100%)}
        .theme-codenames .bg-scene::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:500px;height:400px;background:repeating-linear-gradient(90deg,rgba(220,38,38,0.25) 0px,rgba(220,38,38,0.25) 95px,rgba(30,20,10,0.9) 95px,rgba(30,20,10,0.9) 100px),repeating-linear-gradient(0deg,rgba(59,130,246,0.25) 0px,rgba(59,130,246,0.25) 75px,rgba(30,20,10,0.9) 75px,rgba(30,20,10,0.9) 80px);border-radius:12px}
        .theme-codenames .bg-scene::after{content:'üî¥ üîµ';position:absolute;top:12%;left:50%;transform:translateX(-50%);font-size:60px;letter-spacing:30px;opacity:0.4}
        .theme-codenames .game-title{color:#fbbf24!important}

        .theme-word-bomb{--accent:#f43f5e;--accent-glow:rgba(244,63,94,0.7)}
        .theme-word-bomb .bg-base{background:radial-gradient(circle at 50% 50%,#301010 0%,#250808 40%,#180505 100%)}
        .theme-word-bomb .bg-scene::before{content:'üí£';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:220px;opacity:0.25;animation:bombShake 0.1s ease-in-out infinite}
        @keyframes bombShake{0%,100%{transform:translate(-50%,-50%) rotate(-3deg)}50%{transform:translate(-50%,-50%) rotate(3deg)}}
        .theme-word-bomb .bg-scene::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:450px;height:450px;background:radial-gradient(circle,rgba(251,146,60,0.4) 0%,rgba(244,63,94,0.3) 30%,transparent 60%);animation:explosionPulse 0.5s ease-in-out infinite}
        @keyframes explosionPulse{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:0.4}50%{transform:translate(-50%,-50%) scale(1.15);opacity:0.7}}
        .theme-word-bomb .game-title{font-family:'Bangers',cursive!important}

        .theme-wavelength{--accent:#f97316;--accent-glow:rgba(249,115,22,0.6)}
        .theme-wavelength .bg-base{background:linear-gradient(180deg,#1a1208 0%,#0f0a05 100%)}
        .theme-wavelength .bg-scene::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;height:200px;background:conic-gradient(from 180deg at 50% 100%,#ef4444 0deg,#f97316 30deg,#eab308 60deg,#22c55e 90deg,#3b82f6 120deg,#8b5cf6 150deg,#ec4899 180deg);border-radius:200px 200px 0 0;opacity:0.5}
        .theme-wavelength .bg-scene::after{content:'';position:absolute;top:50%;left:50%;width:8px;height:120px;background:white;border-radius:4px;transform-origin:bottom center;animation:needleSwing 3s ease-in-out infinite}
        @keyframes needleSwing{0%,100%{transform:translate(-50%,-50%) rotate(-60deg)}50%{transform:translate(-50%,-50%) rotate(60deg)}}

        .theme-ludo{--accent:#22c55e;--accent-glow:rgba(34,197,94,0.6)}
        .theme-ludo .bg-base{background:#f5f0e1}
        .theme-ludo .bg-scene::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;height:400px;background:conic-gradient(from 0deg at 50% 50%,#ef4444 0deg 90deg,#22c55e 90deg 180deg,#eab308 180deg 270deg,#3b82f6 270deg 360deg);border-radius:20px;box-shadow:inset 0 0 0 20px #f5f0e1,0 10px 40px rgba(0,0,0,0.3)}
        .theme-ludo .bg-scene::after{content:'üé≤';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:80px;animation:diceRoll 2s ease-in-out infinite}
        @keyframes diceRoll{0%,100%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(360deg)}}
        .theme-ludo .game-title{font-family:'Fredoka One',cursive!important;color:#1a1a1a!important;text-shadow:none!important}
        .theme-ludo .game-tagline{color:#ef4444!important;text-shadow:none!important}
        .theme-ludo .lobby-card{background:rgba(255,255,255,0.95)!important}
        .theme-ludo .input-field{background:rgba(0,0,0,0.05)!important;color:#1a1a1a!important}
        .theme-ludo .input-label,.theme-ludo .htp-summary,.theme-ludo .input-hint{color:rgba(0,0,0,0.6)!important}
        .theme-ludo .htp-card{background:rgba(0,0,0,0.05)!important}

        .theme-herd-mentality{--accent:#8b5cf6;--accent-glow:rgba(139,92,246,0.6)}
        .theme-herd-mentality .bg-base{background:linear-gradient(180deg,#1a1030 0%,#0f0820 100%)}
        .theme-herd-mentality .bg-scene::before{content:'üêëüêëüêëüêëüêë';position:absolute;bottom:25%;left:50%;font-size:50px;letter-spacing:10px;opacity:0.3;animation:sheepWalk 10s linear infinite}
        @keyframes sheepWalk{0%{transform:translateX(-150%)}100%{transform:translateX(150%)}}
        .theme-herd-mentality .bg-scene::after{content:'üß†';position:absolute;top:15%;left:50%;transform:translateX(-50%);font-size:100px;opacity:0.2}

        .theme-punchline{--accent:#fbbf24;--accent-glow:rgba(251,191,36,0.6)}
        .theme-punchline .bg-base{background:radial-gradient(ellipse 100% 100% at 50% 0%,#302510 0%,#201808 40%,#100a05 100%)}
        .theme-punchline .bg-scene::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:60%;height:100%;background:linear-gradient(180deg,rgba(251,191,36,0.25) 0%,transparent 60%);clip-path:polygon(40% 0,60% 0,100% 100%,0 100%)}
        .theme-punchline .bg-scene::after{content:'üé§';position:absolute;top:12%;left:50%;transform:translateX(-50%);font-size:100px;opacity:0.3}
        .theme-punchline .game-title{font-family:'Bangers',cursive!important}

        .theme-hot-takes-party{--accent:#f97316;--accent-glow:rgba(249,115,22,0.6)}
        .theme-hot-takes-party .bg-base{background:linear-gradient(180deg,#301508 0%,#201008 40%,#150805 100%)}
        .theme-hot-takes-party .bg-scene::before{content:'üî•';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:280px;opacity:0.25;animation:fireFlicker 0.2s ease-in-out infinite alternate}
        @keyframes fireFlicker{0%{transform:translate(-50%,-50%) scale(1) rotate(-2deg)}100%{transform:translate(-50%,-50%) scale(1.03) rotate(2deg)}}

        .theme-trivia-royale{--accent:#a855f7;--accent-glow:rgba(168,85,247,0.6)}
        .theme-trivia-royale .bg-base{background:radial-gradient(ellipse 150% 100% at 50% 0%,#281840 0%,#1a1030 40%,#0f0818 100%)}
        .theme-trivia-royale .bg-scene::before{content:'üëë';position:absolute;top:8%;left:50%;transform:translateX(-50%);font-size:130px;opacity:0.35;animation:crownFloat 2s ease-in-out infinite}

        .theme-power-struggle{--accent:#dc2626;--accent-glow:rgba(220,38,38,0.6)}
        .theme-power-struggle .bg-base{background:linear-gradient(180deg,#1a0a0a 0%,#250f0f 50%,#0f0505 100%)}
        .theme-power-struggle .bg-scene::before{content:'üÉè';position:absolute;top:45%;left:35%;font-size:100px;opacity:0.2;transform:rotate(-15deg)}
        .theme-power-struggle .bg-scene::after{content:'üÉè';position:absolute;top:50%;left:55%;font-size:100px;opacity:0.2;transform:rotate(15deg)}
        .theme-power-struggle .game-title{color:#fbbf24!important}

        .theme-insider{--accent:#6366f1;--accent-glow:rgba(99,102,241,0.6)}
        .theme-insider .bg-base{background:radial-gradient(circle at 50% 50%,#151530 0%,#0a0a1a 100%)}
        .theme-insider .bg-scene::before{content:'üîç';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:180px;opacity:0.15;animation:searchMove 4s ease-in-out infinite}
        @keyframes searchMove{0%,100%{transform:translate(-50%,-50%) rotate(-10deg)}50%{transform:translate(-50%,-50%) rotate(10deg)}}
        .theme-insider .bg-scene::after{content:'‚ùì';position:absolute;top:20%;right:20%;font-size:80px;opacity:0.2;animation:floatUp 3s ease-in-out infinite}
        @keyframes floatUp{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}

        .theme-categories{--accent:#06b6d4;--accent-glow:rgba(6,182,212,0.6)}
        .theme-categories .bg-base{background:linear-gradient(180deg,#0a1a20 0%,#051215 100%)}
        .theme-categories .bg-scene::before{content:'‚ö°';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:250px;opacity:0.15;animation:lightningFlash 2s ease-in-out infinite}
        @keyframes lightningFlash{0%,90%,100%{opacity:0.1}92%,96%{opacity:0.3}}
        .theme-categories .bg-scene::after{content:'üèÜ';position:absolute;top:15%;left:50%;transform:translateX(-50%);font-size:80px;opacity:0.25}
        .theme-categories .game-title{font-family:'Orbitron',monospace!important}

        .theme-npat{--accent:#f59e0b;--accent-glow:rgba(245,158,11,0.6)}
        .theme-npat .bg-base{background:linear-gradient(180deg,#251a08 0%,#181008 100%)}
        .theme-npat .bg-scene::before{content:'üìù';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:200px;opacity:0.15}
        .theme-npat .bg-scene::after{content:'N¬∑P¬∑A¬∑T';position:absolute;top:15%;left:50%;transform:translateX(-50%);font-family:'Permanent Marker',cursive;font-size:50px;opacity:0.2;letter-spacing:8px;color:#f59e0b}
        .theme-npat .game-title{font-family:'Permanent Marker',cursive!important}

        .theme-word-association{--accent:#8b5cf6;--accent-glow:rgba(139,92,246,0.6)}
        .theme-word-association .bg-base{background:linear-gradient(180deg,#1d0a30 0%,#130820 100%)}
        .theme-word-association .bg-scene::before{content:'üîóüîóüîóüîóüîó';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:60px;letter-spacing:-10px;opacity:0.2;animation:chainPulse 2s ease-in-out infinite}
        @keyframes chainPulse{0%,100%{letter-spacing:-10px}50%{letter-spacing:5px}}
        .theme-word-association .bg-scene::after{content:'üí≠';position:absolute;top:15%;left:50%;transform:translateX(-50%);font-size:100px;opacity:0.2}

        .theme-charades{--accent:#ec4899;--accent-glow:rgba(236,72,153,0.6)}
        .theme-charades .bg-base{background:linear-gradient(180deg,#2a0a1a 0%,#1a0510 100%)}
        .theme-charades .bg-scene::before{content:'';position:absolute;bottom:0;left:0;right:0;height:30%;background:linear-gradient(180deg,transparent,rgba(139,69,19,0.3))}
        .theme-charades .bg-scene::after{content:'üé≠';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:200px;opacity:0.2;animation:maskSwing 3s ease-in-out infinite}
        @keyframes maskSwing{0%,100%{transform:translate(-50%,-50%) rotate(-5deg)}50%{transform:translate(-50%,-50%) rotate(5deg)}}
        .theme-charades .game-title{font-family:'Pacifico',cursive!important}

        .theme-celebrity{--accent:#fbbf24;--accent-glow:rgba(251,191,36,0.6)}
        .theme-celebrity .bg-base{background:linear-gradient(180deg,#1a1508 0%,#100a05 100%)}
        .theme-celebrity .bg-scene::before{content:'‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê';position:absolute;top:20%;left:50%;transform:translateX(-50%);font-size:50px;letter-spacing:20px;opacity:0.3}
        .theme-celebrity .bg-scene::after{content:'üé¨';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:180px;opacity:0.15}

        .theme-fishbowl{--accent:#06b6d4;--accent-glow:rgba(6,182,212,0.6)}
        .theme-fishbowl .bg-base{background:linear-gradient(180deg,#082530 0%,#051a25 50%,#031015 100%)}
        .theme-fishbowl .bg-scene::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:350px;height:350px;border:15px solid rgba(6,182,212,0.2);border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;background:radial-gradient(ellipse at 50% 40%,rgba(6,182,212,0.1) 0%,transparent 70%)}
        .theme-fishbowl .bg-scene::after{content:'üê†';position:absolute;top:50%;left:50%;font-size:80px;opacity:0.4;animation:fishSwim 4s ease-in-out infinite}
        @keyframes fishSwim{0%,100%{transform:translate(-80%,-50%)}50%{transform:translate(-20%,-50%) scaleX(-1)}}

        .theme-most-likely-to{--accent:#f43f5e;--accent-glow:rgba(244,63,94,0.6)}
        .theme-most-likely-to .bg-base{background:radial-gradient(circle at 50% 50%,#250a15 0%,#150508 100%)}
        .theme-most-likely-to .bg-scene::before{content:'üëâ';position:absolute;top:50%;left:30%;transform:translateY(-50%);font-size:120px;opacity:0.2}
        .theme-most-likely-to .bg-scene::after{content:'üëà';position:absolute;top:50%;right:30%;transform:translateY(-50%) scaleX(-1);font-size:120px;opacity:0.2}

        .theme-sketch-guess{--accent:#22c55e;--accent-glow:rgba(34,197,94,0.6)}
        .theme-sketch-guess .bg-base{background:#f5f5f0}
        .theme-sketch-guess .bg-scene::before{content:'';position:absolute;inset:40px;border:3px dashed rgba(0,0,0,0.1);border-radius:20px}
        .theme-sketch-guess .bg-scene::after{content:'‚úèÔ∏è';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-45deg);font-size:180px;opacity:0.15}
        .theme-sketch-guess .game-title{color:#1a1a1a!important;text-shadow:none!important;font-family:'Caveat',cursive!important;font-size:5rem!important}
        .theme-sketch-guess .game-tagline{color:#22c55e!important;text-shadow:none!important}
        .theme-sketch-guess .lobby-card{background:rgba(255,255,255,0.95)!important}
        .theme-sketch-guess .input-field{background:rgba(0,0,0,0.05)!important;color:#1a1a1a!important}
        .theme-sketch-guess .input-label,.theme-sketch-guess .htp-summary,.theme-sketch-guess .input-hint{color:rgba(0,0,0,0.6)!important}
        .theme-sketch-guess .htp-card{background:rgba(0,0,0,0.05)!important}

        .theme-fools-gold{--accent:#fbbf24;--accent-glow:rgba(251,191,36,0.6)}
        .theme-fools-gold .bg-base{background:linear-gradient(180deg,#251a08 0%,#181005 100%)}
        .theme-fools-gold .bg-scene::before{content:'üíé';position:absolute;top:45%;left:35%;font-size:100px;opacity:0.2}
        .theme-fools-gold .bg-scene::after{content:'ü™ôü™ôü™ô';position:absolute;top:50%;left:55%;font-size:60px;opacity:0.25;animation:coinShine 2s ease-in-out infinite}
        @keyframes coinShine{0%,100%{filter:brightness(1)}50%{filter:brightness(1.5)}}
        .theme-fools-gold .game-title{color:#fbbf24!important}

        .theme-broken-pictionary{--accent:#f97316;--accent-glow:rgba(249,115,22,0.6)}
        .theme-broken-pictionary .bg-base{background:linear-gradient(135deg,#251508 0%,#150810 100%)}
        .theme-broken-pictionary .bg-scene::before{content:'‚úèÔ∏è‚Üíüí≠‚Üí‚úèÔ∏è‚Üíüí≠';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:45px;opacity:0.2;letter-spacing:5px}
        .theme-broken-pictionary .bg-scene::after{content:'üòÇ';position:absolute;top:20%;left:50%;transform:translateX(-50%);font-size:100px;opacity:0.2}

        .theme-doodle-duel{--accent:#ec4899;--accent-glow:rgba(236,72,153,0.6)}
        .theme-doodle-duel .bg-base{background:linear-gradient(180deg,#251015 0%,#180a10 100%)}
        .theme-doodle-duel .bg-scene::before{content:'üñåÔ∏è VS üñåÔ∏è';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:70px;opacity:0.2}
        .theme-doodle-duel .bg-scene::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:300px;height:300px;border:4px solid rgba(236,72,153,0.2);border-radius:20px}
        .theme-doodle-duel .game-title{font-family:'Caveat',cursive!important;font-size:5rem!important}

        .theme-two-truths{--accent:#22c55e;--accent-glow:rgba(34,197,94,0.6)}
        .theme-two-truths .bg-base{background:linear-gradient(180deg,#0a1a10 0%,#051008 100%)}
        .theme-two-truths .bg-scene::before{content:'‚úì ‚úì ‚úó';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:100px;letter-spacing:40px;opacity:0.15}
        .theme-two-truths .bg-scene::after{content:'ü§•';position:absolute;top:20%;left:50%;transform:translateX(-50%);font-size:100px;opacity:0.2}

        .theme-this-or-that-party{--accent:#f97316;--accent-glow:rgba(249,115,22,0.6)}
        .theme-this-or-that-party .bg-base{background:linear-gradient(90deg,rgba(59,130,246,0.25) 0%,#0f0f15 30%,#0f0f15 70%,rgba(249,115,22,0.25) 100%)}
        .theme-this-or-that-party .bg-scene::before{content:'VS';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Bebas Neue',sans-serif;font-size:200px;opacity:0.1}

        .theme-never-ever-party{--accent:#ec4899;--accent-glow:rgba(236,72,153,0.6)}
        .theme-never-ever-party .bg-base{background:radial-gradient(ellipse at 50% 100%,#250a1a 0%,#150810 100%)}
        .theme-never-ever-party .bg-scene::before{content:'üôà';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:180px;opacity:0.2}

        .theme-bet-or-bluff{--accent:#10b981;--accent-glow:rgba(16,185,129,0.6)}
        .theme-bet-or-bluff .bg-base{background:linear-gradient(180deg,#0a2518 0%,#081812 100%)}
        .theme-bet-or-bluff .bg-scene::before{content:'üé∞';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:180px;opacity:0.2}

        .game-icon{width:100px;height:100px;margin:0 auto 1.5rem;color:var(--accent);position:relative}
        .game-icon svg{width:100%;height:100%;filter:drop-shadow(0 0 30px var(--accent-glow))}
        .game-icon::before{content:'';position:absolute;inset:-30px;background:radial-gradient(circle,var(--accent-glow),transparent 70%);border-radius:50%;z-index:-1;animation:iconGlow 2s ease-in-out infinite}
        @keyframes iconGlow{0%,100%{transform:scale(1);opacity:0.5}50%{transform:scale(1.2);opacity:0.8}}

        main{flex:1;display:flex;align-items:center;justify-content:center;padding:80px 20px 40px;position:relative;z-index:1}
        .lobby-container{width:100%;max-width:440px}
        .game-header{text-align:center;margin-bottom:2rem}
        .game-title{font-family:'Bebas Neue',sans-serif;font-size:4rem;letter-spacing:8px;line-height:1;margin-bottom:0.5rem;text-shadow:0 0 80px var(--accent-glow)}
        .game-tagline{color:var(--accent);font-size:1.1rem;font-weight:600;letter-spacing:4px;text-transform:uppercase;text-shadow:0 0 30px var(--accent-glow)}
        .game-players{color:var(--muted);font-size:0.9rem;margin-top:0.5rem}

        .htp-card{background:rgba(255,255,255,0.05);border:1px solid var(--border);border-left:4px solid var(--accent);border-radius:16px;padding:1.25rem 1.5rem;margin-bottom:1.5rem;backdrop-filter:blur(10px)}
        .htp-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.5rem}
        .htp-title{font-size:0.8rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:2px}
        .htp-expand{background:none;border:none;color:var(--muted);font-size:0.8rem;font-weight:600;cursor:pointer}
        .htp-expand:hover{color:var(--accent)}
        .htp-summary{color:var(--muted);font-size:0.95rem;line-height:1.7}

        .lobby-card{background:rgba(20,20,30,0.92);border:1px solid var(--border);border-radius:24px;padding:2.5rem;position:relative;backdrop-filter:blur(20px);box-shadow:0 25px 80px rgba(0,0,0,0.5)}
        .lobby-card::before{content:'';position:absolute;top:0;left:40px;right:40px;height:3px;background:linear-gradient(90deg,transparent,var(--accent),transparent);border-radius:3px}

        .input-group{margin-bottom:1.5rem}
        .input-label{display:block;font-size:0.75rem;font-weight:700;color:var(--muted);margin-bottom:0.6rem;text-transform:uppercase;letter-spacing:1.5px}
        .input-field{width:100%;padding:1rem 1.2rem;background:rgba(10,10,15,0.8);border:2px solid var(--border);border-radius:12px;color:var(--text);font-size:1rem;font-family:inherit;transition:all 0.2s}
        .input-field:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-glow)}
        .input-field:disabled{opacity:0.5}
        .input-hint{font-size:0.85rem;color:var(--muted);margin-top:0.6rem}
        .input-hint a{color:var(--accent);text-decoration:none;font-weight:600}
        .room-code-input{text-transform:uppercase;font-family:'Bebas Neue',sans-serif;font-size:2rem;letter-spacing:12px;text-align:center}

        .btn{width:100%;padding:1.1rem;border-radius:12px;font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:3px;cursor:pointer;border:none;transition:all 0.2s}
        .btn-primary{background:var(--accent);color:white;box-shadow:0 8px 30px var(--accent-glow)}
        .btn-primary:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 50px var(--accent-glow);filter:brightness(1.15)}
        .btn-secondary{background:transparent;color:var(--text);border:2px solid var(--border)}
        .btn-secondary:hover:not(:disabled){border-color:var(--accent);background:rgba(255,255,255,0.05)}
        .btn:disabled{opacity:0.4;cursor:not-allowed}
        .btn-loading::after{content:'';width:18px;height:18px;border:2px solid transparent;border-top-color:currentColor;border-radius:50%;animation:spin 0.7s linear infinite;margin-left:10px;display:inline-block;vertical-align:middle}
        @keyframes spin{to{transform:rotate(360deg)}}

        .divider{display:flex;align-items:center;gap:1.2rem;margin:1.8rem 0}
        .divider-line{flex:1;height:1px;background:var(--border)}
        .divider-text{font-size:0.75rem;font-weight:700;text-transform:uppercase;letter-spacing:3px;color:var(--muted)}

        .message{padding:1rem;border-radius:10px;margin-top:1.2rem;font-size:0.9rem;font-weight:600;display:none;text-align:center}
        .message.error{background:rgba(239,68,68,0.2);border:1px solid rgba(239,68,68,0.4);color:#fca5a5;display:block}
        .message.success{background:rgba(34,197,94,0.2);border:1px solid rgba(34,197,94,0.4);color:#86efac;display:block}
        .message:empty{display:none}

        .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.9);display:none;align-items:center;justify-content:center;z-index:1000;padding:1rem}
        .modal-overlay.visible{display:flex}
        .modal{background:#14141f;border:1px solid var(--border);border-radius:24px;width:100%;max-width:550px;max-height:85vh;display:flex;flex-direction:column}
        .modal-header{padding:1.5rem 2rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
        .modal-title{font-family:'Bebas Neue',sans-serif;font-size:1.6rem;letter-spacing:3px;color:var(--accent)}
        .modal-close{background:none;border:none;color:var(--muted);font-size:2rem;cursor:pointer;line-height:1}
        .modal-body{padding:1.5rem 2rem;color:var(--muted);line-height:1.8;overflow-y:auto;font-size:0.95rem}
        .modal-body h3{font-family:'Bebas Neue',sans-serif;color:var(--accent);margin:1.5rem 0 0.75rem;font-size:1.15rem;letter-spacing:2px}
        .modal-body h3:first-child{margin-top:0}
        .modal-body p{margin-bottom:0.75rem}
        .modal-body ul,.modal-body ol{margin-left:1.5rem;margin-bottom:0.75rem}
        .modal-body li{color:var(--text);margin-bottom:0.5rem}
        .modal-body strong{color:var(--accent)}
        .modal-footer{padding:1.2rem 2rem;border-top:1px solid var(--border)}
        .modal-btn{width:100%;padding:1rem;background:var(--accent);color:white;border:none;border-radius:12px;font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:2px;cursor:pointer}

        footer{background:#000;position:relative;z-index:10}
        .footer-border{height:4px;background:linear-gradient(90deg,#ff6b9d,#4facfe,#a855f7,#ff6b9d);background-size:300% 100%;animation:gradientSlide 6s linear infinite}
        @keyframes gradientSlide{0%{background-position:0% 50%}100%{background-position:300% 50%}}
        .footer-main{max-width:1100px;margin:0 auto;padding:40px 20px 25px}
        .footer-links{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;margin-bottom:30px;max-width:500px;margin-left:auto;margin-right:auto}
        .footer-column{text-align:center}
        .footer-column h5{font-family:'Bebas Neue',sans-serif;font-size:0.9rem;letter-spacing:2px;margin-bottom:12px;color:rgba(255,255,255,0.8)}
        .footer-column ul{list-style:none;display:flex;flex-direction:column;gap:8px}
        .footer-column a{color:rgba(255,255,255,0.4);font-size:0.85rem;text-decoration:none}
        .footer-bottom{padding-top:20px;border-top:1px solid rgba(255,255,255,0.08);text-align:center}
        .footer-copyright{font-size:0.8rem;color:rgba(255,255,255,0.4);margin-bottom:10px}
        .footer-legal{display:flex;justify-content:center;gap:20px}
        .footer-legal a{color:rgba(255,255,255,0.4);font-size:0.75rem;text-decoration:none}

        @media(max-width:600px){main{padding:70px 16px 30px}.game-icon{width:80px;height:80px}.game-title{font-size:3rem;letter-spacing:5px}.lobby-card{padding:1.8rem}.footer-links{grid-template-columns:1fr}}
    </style>
</head>
<body class="theme-spyfall">
<div class="bg-container"><div class="bg-base"></div><div class="bg-scene"></div></div>
<div id="site-header"></div>
<main>
    <div class="lobby-container">
        <div class="game-header">
            <div class="game-icon" id="game-icon"></div>
            <h1 class="game-title" id="game-title">LOADING</h1>
            <p class="game-tagline" id="game-tagline">...</p>
            <p class="game-players" id="game-players">...</p>
        </div>
        <div class="htp-card">
            <div class="htp-header">
                <span class="htp-title">How to Play</span>
                <button class="htp-expand" id="btn-rules">Full Rules</button>
            </div>
            <p class="htp-summary" id="htp-summary"></p>
        </div>
        <div class="lobby-card">
            <div class="input-group">
                <label class="input-label" for="player-name">Your Name</label>
                <input type="text" id="player-name" class="input-field" placeholder="Loading..." maxlength="20" autocomplete="off">
                <p class="input-hint" id="name-hint">Loading...</p>
            </div>
            <button class="btn btn-primary" id="btn-create">Create Room</button>
            <div class="divider"><div class="divider-line"></div><span class="divider-text">Or Join</span><div class="divider-line"></div></div>
            <div class="input-group">
                <label class="input-label" for="room-code">Room Code</label>
                <input type="text" id="room-code" class="input-field room-code-input" placeholder="ABC123" maxlength="6" autocomplete="off">
            </div>
            <button class="btn btn-secondary" id="btn-join">Join Room</button>
            <div class="message" id="message-box"></div>
        </div>
    </div>
</main>
<div class="modal-overlay" id="rules-modal">
    <div class="modal">
        <div class="modal-header">
            <h2 class="modal-title" id="modal-title">How to Play</h2>
            <button class="modal-close" id="modal-close">&times;</button>
        </div>
        <div class="modal-body" id="modal-body"></div>
        <div class="modal-footer"><button class="modal-btn" id="modal-btn">Got It</button></div>
    </div>
</div>
<footer>
    <div class="footer-border"></div>
    <div class="footer-main">
        <div class="footer-links">
            <div class="footer-column"><h5>GAMES</h5><ul><li><a href="/solo">Solo</a></li><li><a href="/squad-games.html">Squad</a></li><li><a href="/party">Party</a></li></ul></div>
            <div class="footer-column"><h5>COMMUNITY</h5><ul><li><a href="/leaderboards">Leaderboards</a></li><li><a href="/supporters">Supporters</a></li></ul></div>
            <div class="footer-column"><h5>COMPANY</h5><ul><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></div>
        </div>
        <div class="footer-bottom">
            <p class="footer-copyright">&copy; 2025 TheGaming.co</p>
            <div class="footer-legal"><a href="/privacy">Privacy</a><a href="/terms">Terms</a></div>
        </div>
    </div>
</footer>
<script>
var BACKEND='https://web-production-519c7.up.railway.app',SUPA_URL='https://tvvivtmzofsyehatzlvl.supabase.co',SUPA_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR2dml2dG16b2ZzeWVoYXR6bHZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4OTExODYsImV4cCI6MjA4MDQ2NzE4Nn0.Qy8kHMO0Nb4yJ0ZHjby7RuQtzwWB8rUcZvkdnbL1b3M';
var supa=supabase.createClient(SUPA_URL,SUPA_KEY);
var ICONS={
spy:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="28" r="16" stroke="currentColor" stroke-width="2.5"/><path d="M24 28h32" stroke="currentColor" stroke-width="2.5"/><circle cx="40" cy="28" r="3" fill="currentColor"/></svg>',
crown:'<svg viewBox="0 0 80 80" fill="none"><path d="M12 52l12-28 16 16 16-16 12 28H12z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/><circle cx="12" cy="24" r="5" fill="currentColor"/><circle cx="40" cy="12" r="5" fill="currentColor"/><circle cx="68" cy="24" r="5" fill="currentColor"/></svg>',
moon:'<svg viewBox="0 0 80 80" fill="none"><path d="M52 12c-18 0-32 14-32 32s14 32 32 32c4 0 7-.5 10-1.5-8-6-13-16-13-26.5s5-20.5 13-26.5c-3-1-6-1.5-10-1.5z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/></svg>',
alert:'<svg viewBox="0 0 80 80" fill="none"><path d="M40 10L70 65H10L40 10z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/><circle cx="40" cy="54" r="3" fill="currentColor"/></svg>',
palette:'<svg viewBox="0 0 80 80" fill="none"><ellipse cx="40" cy="44" rx="30" ry="26" stroke="currentColor" stroke-width="2.5"/><circle cx="28" cy="36" r="6" fill="currentColor"/></svg>',
grid:'<svg viewBox="0 0 80 80" fill="none"><rect x="10" y="10" width="26" height="26" rx="4" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/><rect x="44" y="10" width="26" height="26" rx="4" stroke="currentColor" stroke-width="2.5"/><rect x="10" y="44" width="26" height="26" rx="4" stroke="currentColor" stroke-width="2.5"/><rect x="44" y="44" width="26" height="26" rx="4" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/></svg>',
spectrum:'<svg viewBox="0 0 80 80" fill="none"><rect x="8" y="32" width="64" height="16" rx="8" stroke="currentColor" stroke-width="2.5"/><circle cx="48" cy="40" r="10" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.5"/></svg>',
users:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="26" r="14" stroke="currentColor" stroke-width="2.5"/><path d="M16 68c0-14 10-22 24-22s24 8 24 22" stroke="currentColor" stroke-width="2.5"/></svg>',
bomb:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="48" r="24" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/><path d="M40 24v-10" stroke="currentColor" stroke-width="2.5"/></svg>',
lightning:'<svg viewBox="0 0 80 80" fill="none"><path d="M46 8L22 42h18L34 72 58 38H40L46 8z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.25"/></svg>',
theater:'<svg viewBox="0 0 80 80" fill="none"><circle cx="26" cy="36" r="20" stroke="currentColor" stroke-width="2.5"/><circle cx="54" cy="36" r="20" stroke="currentColor" stroke-width="2.5"/></svg>',
star:'<svg viewBox="0 0 80 80" fill="none"><path d="M40 8l10 22 24 2-18 16 5 24-21-12-21 12 5-24-18-16 24-2z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.2"/></svg>',
fish:'<svg viewBox="0 0 80 80" fill="none"><ellipse cx="36" cy="40" rx="28" ry="20" stroke="currentColor" stroke-width="2.5"/><circle cx="22" cy="38" r="4" fill="currentColor"/></svg>',
pencil:'<svg viewBox="0 0 80 80" fill="none"><path d="M56 12L68 24 28 64H16V52L56 12z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.15"/></svg>',
gold:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="26" r="10" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.3"/></svg>',
cards:'<svg viewBox="0 0 80 80" fill="none"><rect x="20" y="15" width="30" height="42" rx="4" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.15" transform="rotate(-10 35 36)"/><rect x="30" y="20" width="30" height="42" rx="4" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.25" transform="rotate(10 45 41)"/></svg>',
laugh:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="40" r="28" stroke="currentColor" stroke-width="2.5"/><path d="M24 50c8 10 24 10 32 0" stroke="currentColor" stroke-width="2.5"/></svg>',
dice:'<svg viewBox="0 0 80 80" fill="none"><rect x="14" y="14" width="52" height="52" rx="8" stroke="currentColor" stroke-width="2.5"/><circle cx="28" cy="28" r="5" fill="currentColor"/><circle cx="52" cy="52" r="5" fill="currentColor"/><circle cx="40" cy="40" r="5" fill="currentColor"/></svg>',
question:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="40" r="28" stroke="currentColor" stroke-width="2.5"/><path d="M30 30c0-8 5-12 12-12s12 4 12 12c0 6-5 8-8 10-2 2-4 4-4 6v3" stroke="currentColor" stroke-width="3"/><circle cx="40" cy="58" r="3" fill="currentColor"/></svg>',
chain:'<svg viewBox="0 0 80 80" fill="none"><ellipse cx="26" cy="40" rx="16" ry="12" stroke="currentColor" stroke-width="2.5"/><ellipse cx="54" cy="40" rx="16" ry="12" stroke="currentColor" stroke-width="2.5"/></svg>',
fire:'<svg viewBox="0 0 80 80" fill="none"><path d="M40 12c-4 14 4 20 0 32-3 10-14 14-14 24 0 7 9 11 14 9-3-5-2-9 3-14 5 7 11 9 11 16 5-3 9-9 9-18 0-14-9-18-9-32-5 9-14 5-14-17z" stroke="currentColor" stroke-width="2.5" fill="currentColor" fill-opacity="0.25"/></svg>',
brain:'<svg viewBox="0 0 80 80" fill="none"><circle cx="30" cy="30" r="16" stroke="currentColor" stroke-width="2.5"/><circle cx="50" cy="30" r="16" stroke="currentColor" stroke-width="2.5"/></svg>',
pointing:'<svg viewBox="0 0 80 80" fill="none"><circle cx="40" cy="40" r="28" stroke="currentColor" stroke-width="2.5"/><path d="M40 22v24M28 34l12-12 12 12" stroke="currentColor" stroke-width="2.5"/></svg>'
};

var GAMES={
'spyfall':{name:'SPY HUNT',type:'spyfall',theme:'theme-spyfall',tag:'Trust No One',players:'4-20 Players',icon:'spy',summary:'One player is secretly the Spy. Ask questions to find them without revealing the secret location!',rules:'<h3>Overview</h3><p>Everyone except the <strong>Spy</strong> knows the secret location. Ask clever questions to find the spy!</p><h3>How to Play</h3><ol><li>Players take turns asking questions about the location</li><li>Spy tries to blend in without knowing the location</li><li>After discussion, vote on who the spy is</li></ol><h3>Winning</h3><ul><li>Players win by voting out the spy</li><li>Spy wins by guessing the location or surviving</li></ul>'},
'avalon':{name:'SECRET ROLES',type:'avalon',theme:'theme-avalon',tag:'Loyalty & Betrayal',players:'5-15 Players',icon:'crown',summary:'Knights vs traitors. Lead quests to victory while rooting out the evil among you!',rules:'<h3>Overview</h3><p>Players are secretly Good or Evil. Evil knows each other; Good does not.</p><h3>How to Play</h3><ol><li>Leader proposes a quest team</li><li>Everyone votes to approve or reject</li><li>Team members secretly pass or fail the quest</li></ol><h3>Winning</h3><ul><li>Good wins with 3 successful quests</li><li>Evil wins with 3 failed quests</li></ul>'},
'werewolf':{name:'MAFIA',type:'werewolf',theme:'theme-werewolf',tag:'Survive The Night',players:'6-20 Players',icon:'moon',summary:'Each night the mafia kills. Each day the village votes. Find the killers!',rules:'<h3>Phases</h3><ol><li><strong>Night:</strong> Mafia chooses victim, special roles act</li><li><strong>Day:</strong> Discuss and debate</li><li><strong>Vote:</strong> Execute one player</li></ol><h3>Roles</h3><ul><li><strong>Mafia:</strong> Kill at night, blend in by day</li><li><strong>Seer:</strong> Learn one role per night</li><li><strong>Doctor:</strong> Protect one player</li></ul>'},
'imposter':{name:'IMPOSTER',type:'imposter',theme:'theme-imposter',tag:'Blend In Or Be Found',players:'4-10 Players',icon:'alert',summary:'Everyone knows the secret word except the Imposter. Find them without revealing too much!',rules:'<h3>How to Play</h3><ol><li>Each player gives a one-word clue about the secret word</li><li>Imposter must bluff a convincing clue</li><li>Discuss and vote on who the Imposter is</li></ol><h3>Winning</h3><ul><li>Players win by catching the Imposter</li><li>Imposter wins by escaping or guessing the word</li></ul>'},
'fake-artist':{name:'FAKE ARTIST',type:'fake-artist',theme:'theme-fake-artist',tag:'One Stroke At A Time',players:'4-10 Players',icon:'palette',summary:'Draw together one stroke at a time. But the Fake Artist has no idea what to draw!',rules:'<h3>How to Play</h3><ol><li>Everyone except Fake Artist sees the word</li><li>Take turns adding ONE stroke to the drawing</li><li>Vote on who the Fake Artist is</li></ol><h3>Winning</h3><ul><li>Players win by catching the Fake Artist</li><li>Fake Artist wins by escaping or guessing the word</li></ul>'},
'codenames':{name:'CODEWORDS',type:'codenames',theme:'theme-codenames',tag:'One Clue Many Targets',players:'4-16 Players',icon:'grid',summary:'5x5 grid of words. Spymasters give one-word clues. Find your agents, avoid the assassin!',rules:'<h3>Overview</h3><p>A 5x5 grid with words. Spymasters know which belong to each team.</p><h3>How to Play</h3><ol><li>Spymaster gives one-word clue + number</li><li>Team guesses words matching the clue</li><li>Wrong guess ends your turn</li></ol><h3>Winning</h3><ul><li>First to find all agents wins</li><li>Hitting assassin = instant loss!</li></ul>'},
'word-bomb':{name:'WORD BOMB',type:'word-bomb',theme:'theme-word-bomb',tag:'Tick Tock Boom',players:'2-16 Players',icon:'bomb',summary:'Type a word containing the letters before the bomb explodes! Think fast!',rules:'<h3>How to Play</h3><ol><li>Letter combination appears (e.g., "TH")</li><li>Type any word containing those letters</li><li>Be fast - bomb is ticking!</li></ol><h3>Winning</h3><ul><li>Last player standing wins</li><li>Lose a life when bomb explodes on you</li></ul>'},
'wavelength':{name:'SPECTRUM',type:'wavelength',theme:'theme-wavelength',tag:'Find The Target',players:'4-12 Players',icon:'spectrum',summary:'Give clues to help your team find a hidden target on a spectrum between opposites.',rules:'<h3>How to Play</h3><ol><li>Clue-giver sees target position on spectrum</li><li>Give a clue (e.g., "Coffee" for Hot-Cold)</li><li>Team guesses the position</li></ol><h3>Scoring</h3><ul><li>Bullseye: 4 points</li><li>Close: 3 points</li><li>Nearby: 2 points</li></ul>'},
'ludo':{name:'LUDO',type:'ludo',theme:'theme-ludo',tag:'Classic Race Home',players:'2-6 Players',icon:'dice',summary:'Roll dice, race your tokens around the board, get all 4 home first!',rules:'<h3>How to Play</h3><ol><li>Roll 6 to move token out of base</li><li>Move clockwise around the board</li><li>Roll 6 = bonus roll</li><li>Land on opponent = send them back</li></ol><h3>Winning</h3><p>First to get all 4 tokens home wins!</p>'},
'herd-mentality':{name:'THINK ALIKE',type:'herd-mentality',theme:'theme-herd-mentality',tag:'Match The Crowd',players:'4-20 Players',icon:'users',summary:'Answer questions to match the majority. Think like the herd to score!',rules:'<h3>How to Play</h3><ol><li>Question appears</li><li>Everyone writes an answer</li><li>Match majority = score!</li></ol><h3>Scoring</h3><ul><li>Match majority: +1 point</li><li>Unique answer: Get the Pink Cow (blocks scoring)</li></ul>'},
'punchline':{name:'PUNCHLINE',type:'punchline',theme:'theme-punchline',tag:'Comedy Gold',players:'3-16 Players',icon:'laugh',summary:'Write the funniest punchline! Everyone votes for their favorite.',rules:'<h3>How to Play</h3><ol><li>Setup/prompt appears</li><li>Write your punchline</li><li>Vote for favorites</li></ol><h3>Scoring</h3><p>Each vote = 1 point. Most votes wins!</p>'},
'hot-takes-party':{name:'HOT TAKES',type:'hot-takes-party',theme:'theme-hot-takes-party',tag:'Spicy Opinions',players:'2-100 Players',icon:'fire',summary:'Rate controversial statements 1-5. Match the group average to score!',rules:'<h3>How to Play</h3><ol><li>Statement appears</li><li>Rate it 1-5</li><li>Closer to average = more points</li></ol>'},
'trivia-royale':{name:'TRIVIA ROYALE',type:'trivia-royale',theme:'theme-trivia-royale',tag:'Battle Of Brains',players:'2-100 Players',icon:'brain',summary:'Fast trivia! Answer quickly for bonus points. Claim the crown!',rules:'<h3>How to Play</h3><ol><li>Question with multiple choice</li><li>Answer fast for more points</li></ol><h3>Scoring</h3><ul><li>Fast + Correct: 1000 pts</li><li>Medium: 500 pts</li><li>Slow: 250 pts</li></ul>'},
'power-struggle':{name:'POWER STRUGGLE',type:'power-struggle',theme:'theme-power-struggle',tag:'Bluff Your Way Up',players:'3-10 Players',icon:'cards',summary:'Bluff roles, steal coins, eliminate opponents. Last one standing wins!',rules:'<h3>Actions</h3><ul><li><strong>Income:</strong> Take 1 coin</li><li><strong>Foreign Aid:</strong> Take 2 (blockable)</li><li><strong>Coup:</strong> Pay 7, eliminate</li></ul><h3>Bluffing</h3><p>Claim any role. If challenged and caught lying, lose a card!</p>'},
'insider':{name:'INSIDER',type:'insider',theme:'theme-insider',tag:'The Secret Guide',players:'4-8 Players',icon:'question',summary:'20 Questions - but someone secretly knows the answer and guides you!',rules:'<h3>How to Play</h3><ol><li>Ask Master yes/no questions</li><li>Insider secretly helps guide to answer</li><li>After guessing, vote on who Insider is</li></ol><h3>Winning</h3><ul><li>Catch Insider = Players win</li><li>Insider escapes = Insider wins</li></ul>'},
'categories':{name:'CATEGORIES',type:'categories',theme:'theme-categories',tag:'Race to Answer',players:'2-20 Players',icon:'lightning',summary:'Category appears - race to type a valid answer first!',rules:'<h3>How to Play</h3><ol><li>Category appears</li><li>Type answer fast</li><li>First valid answer wins</li></ol><h3>Scoring</h3><ul><li>1st: 3 pts</li><li>2nd: 2 pts</li><li>3rd: 1 pt</li></ul>'},
'npat':{name:'NAME PLACE ANIMAL THING',type:'npat',theme:'theme-npat',tag:'Race The Clock',players:'2-20 Players',icon:'pencil',summary:'Random letter - fill in Name, Place, Animal, Thing before time runs out!',rules:'<h3>Categories</h3><ul><li><strong>Name:</strong> Any person</li><li><strong>Place:</strong> City, country</li><li><strong>Animal:</strong> Any animal</li><li><strong>Thing:</strong> Any object</li></ul><h3>Scoring</h3><ul><li>Unique: 10 pts</li><li>Matching: 5 pts each</li></ul>'},
'word-association':{name:'WORD CHAIN',type:'word-association',theme:'theme-word-association',tag:'Chain Reaction',players:'3-12 Players',icon:'chain',summary:'Say a related word. Hesitate or repeat and youre out!',rules:'<h3>How to Play</h3><ol><li>First player says any word</li><li>Next says related word</li><li>Hesitate = OUT</li><li>Repeat = OUT</li></ol><p>Example: Sun - Beach - Sand - Castle...</p>'},
'charades':{name:'CHARADES',type:'charades',theme:'theme-charades',tag:'Act It Out',players:'4-20 Players',icon:'theater',summary:'Act out words without speaking. Your team guesses!',rules:'<h3>Rules</h3><ul><li>NO talking or sounds</li><li>NO pointing at objects</li><li>Gestures only</li></ul><h3>Signals</h3><ul><li>Fingers = number of words</li><li>Tap arm = syllables</li><li>Ear = sounds like</li></ul>'},
'celebrity':{name:'CELEBRITY',type:'celebrity',theme:'theme-celebrity',tag:'Three Epic Rounds',players:'4-16 Players',icon:'star',summary:'Guess names in 3 rounds: describe, one word, then act!',rules:'<h3>Rounds</h3><ol><li>Describe freely</li><li>One word only</li><li>Charades - no words</li></ol><p>Same names used each round!</p>'},
'fishbowl':{name:'FISHBOWL',type:'fishbowl',theme:'theme-fishbowl',tag:'Three In One',players:'6-20 Players',icon:'fish',summary:'Taboo + Password + Charades. Same words, three different ways!',rules:'<h3>Rounds</h3><ol><li><strong>Taboo:</strong> Describe without saying word</li><li><strong>Password:</strong> One word clue</li><li><strong>Charades:</strong> Act it out</li></ol>'},
'most-likely-to':{name:'MOST LIKELY TO',type:'most-likely-to',theme:'theme-most-likely-to',tag:'Vote On Friends',players:'3-20 Players',icon:'pointing',summary:'Vote on who in your group is most likely to do funny scenarios!',rules:'<h3>How to Play</h3><ol><li>Scenario appears</li><li>Vote for a player</li><li>See results and laugh!</li></ol>'},
'sketch-guess':{name:'SKETCH & GUESS',type:'sketch-guess',theme:'theme-sketch-guess',tag:'Draw Fast Guess Faster',players:'3-20 Players',icon:'pencil',summary:'One draws, others race to guess. Faster = more points!',rules:'<h3>How to Play</h3><ol><li>Drawer gets word</li><li>Sketch while others guess</li><li>First correct guess wins most</li></ol><h3>Rules</h3><ul><li>No letters/numbers</li><li>No talking</li></ul>'},
'fools-gold':{name:'FOOLS GOLD',type:'fools-gold',theme:'theme-fools-gold',tag:'Lie To Win',players:'3-12 Players',icon:'gold',summary:'Write fake answers to trivia. Fool others or spot the real one!',rules:'<h3>How to Play</h3><ol><li>Obscure question asked</li><li>Write believable fake answer</li><li>Vote for what seems real</li></ol><h3>Scoring</h3><ul><li>Guess right: 2 pts</li><li>Fool someone: 1 pt each</li></ul>'},
'broken-pictionary':{name:'BROKEN PICTIONARY',type:'broken-pictionary',theme:'theme-broken-pictionary',tag:'Telephone But Drawing',players:'4-16 Players',icon:'pencil',summary:'Draw what you see, describe what is drawn. Watch it transform!',rules:'<h3>How to Play</h3><ol><li>Start with phrase</li><li>Next player draws it</li><li>Next describes drawing</li><li>Alternate until back to start</li></ol><p>Reveal the hilarious chain!</p>'},
'doodle-duel':{name:'DOODLE DUEL',type:'doodle-duel',theme:'theme-doodle-duel',tag:'Draw And Deceive',players:'3-12 Players',icon:'pencil',summary:'One draws, others write fake titles. Spot the real one!',rules:'<h3>How to Play</h3><ol><li>Drawer illustrates prompt</li><li>Others write fake titles</li><li>Vote for what seems real</li></ol>'},
'two-truths':{name:'TWO TRUTHS',type:'two-truths',theme:'theme-two-truths',tag:'Spot The Lie',players:'3-16 Players',icon:'question',summary:'Share two truths and one lie. Can friends spot the fake?',rules:'<h3>How to Play</h3><ol><li>Share 3 statements about yourself</li><li>Others ask questions</li><li>Vote on which is the lie</li></ol><h3>Tips</h3><ul><li>Make truths surprising</li><li>Make lie believable</li></ul>'},
'this-or-that-party':{name:'THIS OR THAT',type:'this-or-that-party',theme:'theme-this-or-that-party',tag:'Pick A Side',players:'2-100 Players',icon:'question',summary:'Choose between two options. Match majority to score!',rules:'<h3>How to Play</h3><ol><li>Two options appear</li><li>Pick one</li><li>Majority wins points</li></ol>'},
'never-ever-party':{name:'NEVER HAVE I EVER',type:'never-ever-party',theme:'theme-never-ever-party',tag:'Confess Or Deny',players:'2-100 Players',icon:'question',summary:'Have you done it? Rare experiences score more!',rules:'<h3>How to Play</h3><ol><li>Statement appears</li><li>Select "I Have" or "Never"</li></ol><h3>Scoring</h3><p>Being in minority = more points!</p>'},
'bet-or-bluff':{name:'BET OR BLUFF',type:'bet-or-bluff',theme:'theme-bet-or-bluff',tag:'Risk It All',players:'2-100 Players',icon:'cards',summary:'Answer trivia then bet on confidence. High risk, high reward!',rules:'<h3>How to Play</h3><ol><li>Answer trivia</li><li>Bet 0-100 on your answer</li><li>Correct = win bet</li><li>Wrong = lose bet</li></ol>'}
};

var nameInput=document.getElementById('player-name'),nameHint=document.getElementById('name-hint'),codeInput=document.getElementById('room-code'),btnCreate=document.getElementById('btn-create'),btnJoin=document.getElementById('btn-join'),btnRules=document.getElementById('btn-rules'),msgBox=document.getElementById('message-box'),modal=document.getElementById('rules-modal');
var params=new URLSearchParams(window.location.search),gameId=params.get('game')||'spyfall',joinCode=params.get('join'),game=GAMES[gameId]||GAMES['spyfall'];
document.body.className=game.theme;
document.getElementById('game-title').textContent=game.name;
document.getElementById('game-tagline').textContent=game.tag;
document.getElementById('game-players').textContent=game.players;
document.getElementById('htp-summary').textContent=game.summary;
document.getElementById('modal-title').textContent='How to Play '+game.name;
document.getElementById('modal-body').innerHTML=game.rules;
document.getElementById('game-icon').innerHTML=ICONS[game.icon]||ICONS.question;
document.title=game.name+' - TheGaming.co';
if(joinCode)codeInput.value=joinCode.toUpperCase();
var socket=io(BACKEND,{transports:['websocket','polling']}),user=null,profile=null,premium=false;
async function init(){try{var s=await supa.auth.getSession();if(s.data&&s.data.session&&s.data.session.user){user=s.data.session.user;var r=await supa.from('profiles').select('display_name,gamer_tag,account_type,cosmetics').eq('id',user.id).single();if(r.data){profile=r.data;premium=r.data.account_type==='premium'}nameInput.value=(profile&&profile.display_name)||(profile&&profile.gamer_tag)||user.email.split('@')[0];nameInput.disabled=false;nameInput.placeholder='Enter your name';nameHint.innerHTML=premium?'Premium styling active':'Change in <a href="/profile">Profile</a>'}else{var adj=['Swift','Clever','Bold','Silent','Quick','Sly','Sharp','Cool','Wild','Rapid'],noun=['Fox','Wolf','Eagle','Tiger','Hawk','Bear','Lion','Shark','Falcon','Panther'];nameInput.value=adj[Math.floor(Math.random()*10)]+noun[Math.floor(Math.random()*10)]+(Math.floor(Math.random()*99)+1);nameInput.disabled=true;nameHint.innerHTML='<a href="/login">Sign in</a> to choose your name'}}catch(e){console.error(e)}}
codeInput.addEventListener('input',function(e){e.target.value=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,'')});
btnRules.addEventListener('click',function(){modal.classList.add('visible')});
document.getElementById('modal-close').addEventListener('click',function(){modal.classList.remove('visible')});
document.getElementById('modal-btn').addEventListener('click',function(){modal.classList.remove('visible')});
modal.addEventListener('click',function(e){if(e.target===modal)modal.classList.remove('visible')});
btnCreate.addEventListener('click',function(){var n=nameInput.value.trim();if(!n||n.length<2){showMsg('Name must be at least 2 characters',true);return}msgBox.textContent='';btnCreate.classList.add('btn-loading');btnCreate.disabled=true;localStorage.setItem('tempPlayerName',n);localStorage.setItem('tempGameType',game.type);localStorage.setItem('tempGameId',gameId);socket.emit('create-room',{playerName:n,gameType:game.type,isPremium:premium,cosmetics:profile?profile.cosmetics:null,userId:user?user.id:null})});
btnJoin.addEventListener('click',function(){var n=nameInput.value.trim(),c=codeInput.value.trim();if(!n||n.length<2){showMsg('Name must be at least 2 characters',true);return}if(!c||c.length!==6){showMsg('Enter a 6-character room code',true);return}msgBox.textContent='';btnJoin.classList.add('btn-loading');btnJoin.disabled=true;localStorage.setItem('tempPlayerName',n);localStorage.setItem('tempGameType',game.type);localStorage.setItem('tempGameId',gameId);socket.emit('join-room',{roomCode:c,playerName:n,isPremium:premium,cosmetics:profile?profile.cosmetics:null,userId:user?user.id:null})});
nameInput.addEventListener('keypress',function(e){if(e.key==='Enter'){codeInput.value.trim()?btnJoin.click():btnCreate.click()}});
codeInput.addEventListener('keypress',function(e){if(e.key==='Enter')btnJoin.click()});
socket.on('room-created',function(d){showMsg('Room created!',false);setTimeout(function(){window.location.href='/play/'+gameId+'/'+d.roomCode},500)});
socket.on('room-joined',function(d){showMsg('Joining...',false);setTimeout(function(){window.location.href='/play/'+gameId+'/'+d.roomCode},500)});
socket.on('error',function(d){showMsg(d.message||'Error',true);btnCreate.classList.remove('btn-loading');btnCreate.disabled=false;btnJoin.classList.remove('btn-loading');btnJoin.disabled=false});
socket.on('join-error',function(d){showMsg(d.message||'Cannot join',true);btnJoin.classList.remove('btn-loading');btnJoin.disabled=false});
function showMsg(t,e){msgBox.textContent=t;msgBox.className='message '+(e?'error':'success')}
init();
</script>
<script src="/header.js"></script>
</body>
</html>
