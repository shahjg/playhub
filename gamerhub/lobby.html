<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Game - TheGaming.co</title>
    <link rel="stylesheet" href="/header.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&family=Creepster&family=Bangers&family=Fredoka+One&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --accent: #14b8a6; --accent-glow: rgba(20,184,166,0.5); --border: rgba(255,255,255,0.12); --text: #fff; --muted: rgba(255,255,255,0.7); }
        body { font-family: 'Inter', sans-serif; color: var(--text); min-height: 100vh; display: flex; flex-direction: column; overflow-x: hidden; }

        .bg-container { position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow: hidden; }
        .bg-base { position: absolute; inset: 0; }
        .bg-scene { position: absolute; inset: 0; }

        /* ===== SPYFALL - BRIGHT TEAL COMMAND CENTER ===== */
        .theme-spyfall { --accent: #14b8a6; --accent-glow: rgba(20,184,166,0.6); }
        .theme-spyfall .bg-base { background: linear-gradient(180deg, #0d3535 0%, #0a2828 40%, #082020 100%); }
        .theme-spyfall .bg-scene {
            background: 
                repeating-linear-gradient(90deg, transparent 0 60px, rgba(20,184,166,0.25) 60px 62px),
                repeating-linear-gradient(0deg, transparent 0 60px, rgba(20,184,166,0.25) 60px 62px);
        }
        .theme-spyfall .bg-scene::before {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 500px; height: 500px;
            background: conic-gradient(from 0deg, transparent 0deg, rgba(20,184,166,0.6) 20deg, transparent 40deg);
            border-radius: 50%; animation: radarSweep 3s linear infinite;
            box-shadow: 0 0 150px rgba(20,184,166,0.4);
        }
        .theme-spyfall .bg-scene::after {
            content: 'TOP SECRET'; position: absolute; top: 10%; left: 50%; transform: translateX(-50%) rotate(-3deg);
            font-family: 'Orbitron', monospace; font-size: 50px; font-weight: 700;
            color: rgba(20,184,166,0.25); letter-spacing: 12px;
            text-shadow: 0 0 40px rgba(20,184,166,0.5);
        }
        @keyframes radarSweep { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }

        /* ===== AVALON - GOLDEN THRONE ROOM ===== */
        .theme-avalon { --accent: #fbbf24; --accent-glow: rgba(251,191,36,0.6); }
        .theme-avalon .bg-base { background: linear-gradient(180deg, #3d2a08 0%, #2a1f0a 40%, #1f1805 100%); }
        .theme-avalon .bg-scene::before {
            content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 45%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1400 300'%3E%3Cpath d='M0 300V120h60V70h50v50h100V60h40V20h50V60h40v60h120V70h50V30h40V70h50v50h140V60h40V20h60V60h40v60h100V70h50V30h40V70h50v50h100v180H0z' fill='%23fbbf24' fill-opacity='0.25'/%3E%3C/svg%3E") bottom center/cover no-repeat;
        }
        .theme-avalon .bg-scene::after {
            content: '‚öî'; position: absolute; top: 8%; left: 50%; transform: translateX(-50%);
            font-size: 200px; opacity: 0.3; filter: drop-shadow(0 0 60px rgba(251,191,36,0.8));
            animation: swordFloat 4s ease-in-out infinite;
        }
        @keyframes swordFloat { 0%,100% { transform: translateX(-50%) translateY(0) rotate(-8deg); } 50% { transform: translateX(-50%) translateY(-25px) rotate(8deg); } }
        .theme-avalon .game-title { text-shadow: 0 0 80px rgba(251,191,36,0.9), 0 4px 0 rgba(0,0,0,0.5) !important; }

        /* ===== WEREWOLF - MOONLIT PURPLE FOREST ===== */
        .theme-werewolf { --accent: #a855f7; --accent-glow: rgba(168,85,247,0.6); }
        .theme-werewolf .bg-base { background: linear-gradient(180deg, #2a1050 0%, #1f0a3a 40%, #150825 100%); }
        .theme-werewolf .bg-scene::before {
            content: ''; position: absolute; top: 3%; right: 8%;
            width: 200px; height: 200px;
            background: radial-gradient(circle, rgba(255,255,220,1) 0%, rgba(255,255,200,0.9) 25%, rgba(220,200,255,0.4) 50%, transparent 70%);
            border-radius: 50%;
            box-shadow: 0 0 100px 60px rgba(255,255,200,0.5), 0 0 200px 100px rgba(168,85,247,0.4);
            animation: moonPulse 5s ease-in-out infinite;
        }
        @keyframes moonPulse { 0%,100% { box-shadow: 0 0 100px 60px rgba(255,255,200,0.5), 0 0 200px 100px rgba(168,85,247,0.4); } 50% { box-shadow: 0 0 120px 70px rgba(255,255,200,0.6), 0 0 250px 120px rgba(168,85,247,0.5); } }
        .theme-werewolf .bg-scene::after {
            content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 55%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1400 400'%3E%3Cpath d='M0 400V150c40-30 50-100 90-100s50 60 90 50 50-120 100-110 70 80 110 70 40-100 90-90 60 70 100 60 40-90 90-80 70 60 110 50 40-80 90-70 60 50 100 40 40-60 90-50 70 40 110 30l40-20v450H0z' fill='%23a855f7' fill-opacity='0.2'/%3E%3Cpath d='M0 400V250c50 0 60-60 100-60s40 50 80 40 60-90 100-80 70 70 110 60 40-80 90-70 50 50 90 40 60-70 100-60 70 50 110 40 40-60 90-50 50 40 90 30 60-50 100-40 70 30 110 20 40-30 90-20l60 10v290H0z' fill='%23200a30'/%3E%3C/svg%3E") bottom center/cover no-repeat;
        }
        .theme-werewolf .game-title { font-family: 'Creepster', cursive !important; letter-spacing: 10px !important; text-shadow: 0 0 80px rgba(168,85,247,1), 0 0 150px rgba(168,85,247,0.6) !important; }

        /* ===== IMPOSTER - RED ALERT STATION ===== */
        .theme-imposter { --accent: #ef4444; --accent-glow: rgba(239,68,68,0.6); }
        .theme-imposter .bg-base { background: linear-gradient(180deg, #4a1010 0%, #3a0a0a 40%, #2a0808 100%); }
        .theme-imposter .bg-scene {
            background: repeating-linear-gradient(45deg, transparent 0 15px, rgba(239,68,68,0.15) 15px 17px);
            animation: alertMove 0.8s linear infinite;
        }
        @keyframes alertMove { from { background-position: 0 0; } to { background-position: 32px 32px; } }
        .theme-imposter .bg-scene::before {
            content: '‚ö†'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 400px; opacity: 0.15; color: #ef4444;
            animation: alertPulse 0.8s ease-in-out infinite;
        }
        @keyframes alertPulse { 0%,100% { opacity: 0.1; transform: translate(-50%, -50%) scale(1); } 50% { opacity: 0.2; transform: translate(-50%, -50%) scale(1.05); } }
        .theme-imposter .bg-scene::after {
            content: '‚ö† EMERGENCY ‚ö†'; position: absolute; top: 6%; left: 50%; transform: translateX(-50%);
            font-family: 'Orbitron', monospace; font-size: 35px; font-weight: 700;
            color: rgba(239,68,68,0.6); letter-spacing: 8px;
            animation: emergencyFlash 0.4s step-end infinite;
        }
        @keyframes emergencyFlash { 0%,100% { opacity: 0.7; } 50% { opacity: 0.2; } }
        .theme-imposter .game-title { color: #ff6b6b !important; animation: titleFlicker 2s ease-in-out infinite !important; }
        @keyframes titleFlicker { 0%,100% { opacity: 1; } 92% { opacity: 1; } 93% { opacity: 0.3; } 94% { opacity: 1; } 95% { opacity: 0.5; } 96% { opacity: 1; } }

        /* ===== FAKE ARTIST - VIBRANT PAINT EXPLOSION ===== */
        .theme-fake-artist { --accent: #ec4899; --accent-glow: rgba(236,72,153,0.6); }
        .theme-fake-artist .bg-base { background: linear-gradient(135deg, #3a1530 0%, #1a2035 50%, #2a1540 100%); }
        .theme-fake-artist .bg-scene::before {
            content: ''; position: absolute; inset: 0;
            background: 
                radial-gradient(circle at 8% 15%, rgba(236,72,153,0.5) 0%, transparent 25%),
                radial-gradient(circle at 92% 10%, rgba(168,85,247,0.45) 0%, transparent 22%),
                radial-gradient(circle at 88% 85%, rgba(59,130,246,0.45) 0%, transparent 25%),
                radial-gradient(circle at 12% 80%, rgba(34,197,94,0.4) 0%, transparent 22%),
                radial-gradient(circle at 50% 50%, rgba(251,191,36,0.35) 0%, transparent 30%),
                radial-gradient(circle at 30% 40%, rgba(239,68,68,0.3) 0%, transparent 20%);
            filter: blur(40px);
        }
        .theme-fake-artist .bg-scene::after {
            content: 'üé®'; position: absolute; top: 6%; left: 50%; transform: translateX(-50%) rotate(-15deg);
            font-size: 180px; opacity: 0.4;
            filter: drop-shadow(0 0 40px rgba(236,72,153,0.6));
        }
        .theme-fake-artist .game-title { 
            background: linear-gradient(90deg, #ec4899, #a855f7, #3b82f6, #22c55e, #eab308, #ec4899) !important;
            background-size: 300% auto; -webkit-background-clip: text !important; -webkit-text-fill-color: transparent !important;
            animation: rainbowShift 3s linear infinite !important;
        }
        @keyframes rainbowShift { 0% { background-position: 0% center; } 100% { background-position: 300% center; } }

        /* ===== CODENAMES - GREEN TACTICAL OPS ===== */
        .theme-codenames { --accent: #22c55e; --accent-glow: rgba(34,197,94,0.6); }
        .theme-codenames .bg-base { background: linear-gradient(180deg, #0a3015 0%, #082810 40%, #051a08 100%); }
        .theme-codenames .bg-scene {
            background: 
                repeating-linear-gradient(90deg, transparent 0 50px, rgba(34,197,94,0.2) 50px 52px),
                repeating-linear-gradient(0deg, transparent 0 50px, rgba(34,197,94,0.2) 50px 52px);
        }
        .theme-codenames .bg-scene::before {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 350px; height: 350px;
            border: 5px solid rgba(34,197,94,0.4); border-radius: 50%;
            box-shadow: 0 0 80px rgba(34,197,94,0.3), inset 0 0 80px rgba(34,197,94,0.1);
        }
        .theme-codenames .bg-scene::after {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 80px; height: 80px;
            border: 4px solid rgba(34,197,94,0.7); border-radius: 50%;
            animation: sonarPing 2s ease-out infinite;
            box-shadow: 0 0 40px rgba(34,197,94,0.5);
        }
        @keyframes sonarPing { 0% { width: 50px; height: 50px; opacity: 1; } 100% { width: 800px; height: 800px; opacity: 0; } }
        .theme-codenames .game-title { font-family: 'Orbitron', monospace !important; letter-spacing: 12px !important; }

        /* ===== WORD BOMB - EXPLOSIVE ORANGE/RED ===== */
        .theme-word-bomb { --accent: #f97316; --accent-glow: rgba(249,115,22,0.7); }
        .theme-word-bomb .bg-base { background: radial-gradient(circle at 50% 50%, #4a2010 0%, #3a1508 40%, #2a1005 100%); }
        .theme-word-bomb .bg-scene::before {
            content: 'üí£'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 280px; opacity: 0.35;
            animation: bombShake 0.08s ease-in-out infinite;
            filter: drop-shadow(0 0 60px rgba(249,115,22,0.6));
        }
        @keyframes bombShake { 0%,100% { transform: translate(-50%, -50%) rotate(-5deg); } 50% { transform: translate(-50%, -50%) rotate(5deg); } }
        .theme-word-bomb .bg-scene::after {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 600px; height: 600px;
            background: radial-gradient(circle, rgba(251,146,60,0.5) 0%, rgba(249,115,22,0.4) 25%, rgba(239,68,68,0.2) 50%, transparent 70%);
            animation: explosionPulse 0.3s ease-in-out infinite;
        }
        @keyframes explosionPulse { 0%,100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; } 50% { transform: translate(-50%, -50%) scale(1.15); opacity: 0.8; } }
        .theme-word-bomb .game-title { font-family: 'Bangers', cursive !important; letter-spacing: 8px !important; color: #fb923c !important; animation: bombTitleShake 0.06s ease-in-out infinite !important; }
        @keyframes bombTitleShake { 0%,100% { transform: translateX(-3px); } 50% { transform: translateX(3px); } }

        /* ===== WAVELENGTH - VIVID RAINBOW ===== */
        .theme-wavelength { --accent: #f97316; --accent-glow: rgba(249,115,22,0.6); }
        .theme-wavelength .bg-base { background: linear-gradient(180deg, #2a1a08 0%, #201505 100%); }
        .theme-wavelength .bg-scene::before {
            content: ''; position: absolute; top: 10%; left: 3%; right: 3%; height: 80%;
            background: linear-gradient(90deg, 
                rgba(239,68,68,0.4) 0%, rgba(249,115,22,0.4) 17%, rgba(234,179,8,0.4) 33%,
                rgba(34,197,94,0.4) 50%, rgba(59,130,246,0.4) 67%, rgba(139,92,246,0.4) 83%, rgba(236,72,153,0.4) 100%);
            filter: blur(60px);
            animation: spectrumPulse 6s ease-in-out infinite;
        }
        @keyframes spectrumPulse { 0%,100% { opacity: 0.7; } 50% { opacity: 1; } }
        .theme-wavelength .bg-scene::after {
            content: ''; position: absolute; top: 50%; left: 5%; right: 5%; height: 40px;
            background: linear-gradient(90deg, #ef4444, #f97316, #eab308, #22c55e, #3b82f6, #8b5cf6, #ec4899);
            border-radius: 20px; opacity: 0.7;
            box-shadow: 0 0 80px rgba(249,115,22,0.6), 0 0 150px rgba(249,115,22,0.3);
        }

        /* ===== LUDO - BRIGHT COLORFUL BOARD ===== */
        .theme-ludo { --accent: #22c55e; --accent-glow: rgba(34,197,94,0.6); }
        .theme-ludo .bg-base { background: linear-gradient(180deg, #252530 0%, #1e1e28 100%); }
        .theme-ludo .bg-scene::before {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(45deg);
            width: 450px; height: 450px;
            background: conic-gradient(
                rgba(239,68,68,0.5) 0deg 90deg,
                rgba(59,130,246,0.5) 90deg 180deg,
                rgba(34,197,94,0.5) 180deg 270deg,
                rgba(234,179,8,0.5) 270deg 360deg
            );
            border-radius: 40px;
            box-shadow: 0 0 150px rgba(255,255,255,0.2);
        }
        .theme-ludo .bg-scene::after {
            content: 'üé≤'; position: absolute; top: 10%; left: 50%; transform: translateX(-50%);
            font-size: 140px; opacity: 0.5;
            animation: diceRoll 1.2s ease-in-out infinite;
            filter: drop-shadow(0 0 40px rgba(255,255,255,0.4));
        }
        @keyframes diceRoll { 0%,100% { transform: translateX(-50%) rotate(0deg); } 25% { transform: translateX(-50%) rotate(90deg); } 50% { transform: translateX(-50%) rotate(180deg); } 75% { transform: translateX(-50%) rotate(270deg); } }
        .theme-ludo .game-title { font-family: 'Fredoka One', cursive !important; }

        /* ===== HERD MENTALITY - BLUE CROWD ===== */
        .theme-herd-mentality { --accent: #3b82f6; --accent-glow: rgba(59,130,246,0.6); }
        .theme-herd-mentality .bg-base { background: linear-gradient(180deg, #102540 0%, #0a1a30 100%); }
        .theme-herd-mentality .bg-scene::before {
            content: 'üë• üë• üë•'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 120px; opacity: 0.25; letter-spacing: 30px;
        }
        .theme-herd-mentality .bg-scene::after {
            content: ''; position: absolute; inset: 0;
            background: radial-gradient(circle at 50% 70%, rgba(59,130,246,0.3) 0%, transparent 50%);
        }

        /* ===== PUNCHLINE - BRIGHT COMEDY SPOTLIGHT ===== */
        .theme-punchline { --accent: #fbbf24; --accent-glow: rgba(251,191,36,0.6); }
        .theme-punchline .bg-base { background: radial-gradient(ellipse 100% 100% at 50% 0%, #4a3510 0%, #2a2008 40%, #1a1505 100%); }
        .theme-punchline .bg-scene::before {
            content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 80%; height: 100%;
            background: linear-gradient(180deg, rgba(251,191,36,0.35) 0%, transparent 70%);
            clip-path: polygon(38% 0, 62% 0, 100% 100%, 0 100%);
        }
        .theme-punchline .bg-scene::after {
            content: 'üé§'; position: absolute; top: 10%; left: 50%; transform: translateX(-50%);
            font-size: 160px; opacity: 0.4;
            filter: drop-shadow(0 0 60px rgba(251,191,36,0.7));
        }
        .theme-punchline .game-title { font-family: 'Bangers', cursive !important; }

        /* ===== HOT TAKES - FIERY ORANGE ===== */
        .theme-hot-takes-party { --accent: #f97316; --accent-glow: rgba(249,115,22,0.6); }
        .theme-hot-takes-party .bg-base { background: linear-gradient(180deg, #4a2008 0%, #3a1505 40%, #2a1005 100%); }
        .theme-hot-takes-party .bg-scene::before {
            content: 'üî•'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 350px; opacity: 0.35;
            animation: fireFlicker 0.15s ease-in-out infinite alternate;
            filter: drop-shadow(0 0 80px rgba(249,115,22,0.6));
        }
        @keyframes fireFlicker { 0% { transform: translate(-50%, -50%) scale(1) rotate(-3deg); } 100% { transform: translate(-50%, -50%) scale(1.06) rotate(3deg); } }
        .theme-hot-takes-party .bg-scene::after {
            content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 70%;
            background: linear-gradient(0deg, rgba(249,115,22,0.3) 0%, rgba(239,68,68,0.15) 40%, transparent 100%);
        }

        /* ===== TRIVIA ROYALE - ROYAL PURPLE ===== */
        .theme-trivia-royale { --accent: #a855f7; --accent-glow: rgba(168,85,247,0.6); }
        .theme-trivia-royale .bg-base { background: radial-gradient(ellipse 150% 100% at 50% 0%, #351560 0%, #251040 40%, #180830 100%); }
        .theme-trivia-royale .bg-scene::before {
            content: 'üëë'; position: absolute; top: 6%; left: 50%; transform: translateX(-50%);
            font-size: 180px; opacity: 0.45;
            animation: crownBounce 2s ease-in-out infinite;
            filter: drop-shadow(0 0 60px rgba(251,191,36,0.7));
        }
        @keyframes crownBounce { 0%,100% { transform: translateX(-50%) translateY(0) rotate(-8deg); } 50% { transform: translateX(-50%) translateY(-30px) rotate(8deg); } }
        .theme-trivia-royale .bg-scene::after {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 700px; height: 700px;
            background: radial-gradient(circle, rgba(168,85,247,0.25) 0%, transparent 50%);
        }
        .theme-trivia-royale .game-title { font-family: 'Orbitron', monospace !important; }

        /* ===== OTHER THEMES - ALL BRIGHTENED ===== */
        .theme-insider { --accent: #6366f1; --accent-glow: rgba(99,102,241,0.6); }
        .theme-insider .bg-base { background: radial-gradient(circle at 50% 50%, #1a1a40 0%, #101035 100%); }
        .theme-insider .bg-scene::before { content: '‚ùì'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 300px; opacity: 0.2; }

        .theme-power-struggle { --accent: #eab308; --accent-glow: rgba(234,179,8,0.6); }
        .theme-power-struggle .bg-base { background: linear-gradient(135deg, #352a10 0%, #252008 100%); }
        .theme-power-struggle .bg-scene::before { content: 'üÉè'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 280px; opacity: 0.2; }

        .theme-categories { --accent: #06b6d4; --accent-glow: rgba(6,182,212,0.6); }
        .theme-categories .bg-base { background: linear-gradient(180deg, #0a2530 0%, #081a25 100%); }
        .theme-categories .bg-scene::before { content: '‚ö°'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.2; }

        .theme-npat { --accent: #f59e0b; --accent-glow: rgba(245,158,11,0.6); }
        .theme-npat .bg-base { background: linear-gradient(180deg, #352a10 0%, #251f08 100%); }
        .theme-npat .bg-scene::before { content: 'üìù'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.2; }

        .theme-word-association { --accent: #a855f7; --accent-glow: rgba(168,85,247,0.6); }
        .theme-word-association .bg-base { background: linear-gradient(180deg, #251545 0%, #1a1030 100%); }
        .theme-word-association .bg-scene::before { content: 'üîó'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.2; }

        .theme-charades { --accent: #10b981; --accent-glow: rgba(16,185,129,0.6); }
        .theme-charades .bg-base { background: linear-gradient(180deg, #0a2520 0%, #081a18 100%); }
        .theme-charades .bg-scene::before { content: 'üé≠'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 280px; opacity: 0.25; }

        .theme-celebrity { --accent: #f472b6; --accent-glow: rgba(244,114,182,0.6); }
        .theme-celebrity .bg-base { background: radial-gradient(ellipse at 50% 0%, #351525 0%, #1a1015 100%); }
        .theme-celebrity .bg-scene::before { content: '‚≠ê'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 280px; opacity: 0.25; animation: starSpin 8s linear infinite; }
        @keyframes starSpin { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }

        .theme-fishbowl { --accent: #06b6d4; --accent-glow: rgba(6,182,212,0.6); }
        .theme-fishbowl .bg-base { background: radial-gradient(ellipse at 50% 100%, #0a3040 0%, #082028 100%); }
        .theme-fishbowl .bg-scene::before { content: 'üêü'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 220px; opacity: 0.25; animation: fishSwim 3s ease-in-out infinite; }
        @keyframes fishSwim { 0%,100% { transform: translate(-50%, -50%) translateX(-50px); } 50% { transform: translate(-50%, -50%) translateX(50px) scaleX(-1); } }

        .theme-most-likely-to { --accent: #f43f5e; --accent-glow: rgba(244,63,94,0.6); }
        .theme-most-likely-to .bg-base { background: radial-gradient(circle at 50% 50%, #351520 0%, #1a0a10 100%); }
        .theme-most-likely-to .bg-scene::before { content: 'üëÜ'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.2; }

        .theme-sketch-guess { --accent: #f97316; --accent-glow: rgba(249,115,22,0.6); }
        .theme-sketch-guess .bg-base { background: linear-gradient(180deg, #352510 0%, #251a08 100%); }
        .theme-sketch-guess .bg-scene::before { content: '‚úèÔ∏è'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-30deg); font-size: 250px; opacity: 0.25; }

        .theme-fools-gold { --accent: #fbbf24; --accent-glow: rgba(251,191,36,0.6); }
        .theme-fools-gold .bg-base { background: linear-gradient(180deg, #352a10 0%, #251f08 100%); }
        .theme-fools-gold .bg-scene::before { content: 'üí∞'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 280px; opacity: 0.25; }
        .theme-fools-gold .bg-scene::after { content: ''; position: absolute; top: 30%; left: 50%; transform: translateX(-50%); width: 500px; height: 500px; background: radial-gradient(circle, rgba(251,191,36,0.35) 0%, transparent 50%); }

        .theme-broken-pictionary { --accent: #ec4899; --accent-glow: rgba(236,72,153,0.6); }
        .theme-broken-pictionary .bg-base { background: linear-gradient(135deg, #351525 0%, #1a1020 100%); }
        .theme-broken-pictionary .bg-scene::before { content: 'üñºÔ∏è'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.2; }

        .theme-doodle-duel { --accent: #f97316; --accent-glow: rgba(249,115,22,0.6); }
        .theme-doodle-duel .bg-base { background: linear-gradient(180deg, #352510 0%, #251a08 100%); }
        .theme-doodle-duel .bg-scene::before { content: 'üé®'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.2; }

        .theme-two-truths { --accent: #3b82f6; --accent-glow: rgba(59,130,246,0.6); }
        .theme-two-truths .bg-base { background: linear-gradient(180deg, #101540 0%, #0a1030 100%); }
        .theme-two-truths .bg-scene::before { content: '‚úì ‚úì ‚úó'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 100px; opacity: 0.2; letter-spacing: 50px; color: var(--accent); }

        .theme-this-or-that-party { --accent: #8b5cf6; --accent-glow: rgba(139,92,246,0.6); }
        .theme-this-or-that-party .bg-base { background: linear-gradient(90deg, rgba(59,130,246,0.3) 0%, #101025 30%, #101025 70%, rgba(249,115,22,0.3) 100%); }
        .theme-this-or-that-party .bg-scene::before { content: 'VS'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Bebas Neue'; font-size: 300px; opacity: 0.15; }

        .theme-never-ever-party { --accent: #ec4899; --accent-glow: rgba(236,72,153,0.6); }
        .theme-never-ever-party .bg-base { background: radial-gradient(ellipse at 50% 100%, #351530 0%, #1a1020 100%); }
        .theme-never-ever-party .bg-scene::before { content: 'üôà'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.25; }

        .theme-bet-or-bluff { --accent: #10b981; --accent-glow: rgba(16,185,129,0.6); }
        .theme-bet-or-bluff .bg-base { background: linear-gradient(180deg, #0a3525 0%, #082518 100%); }
        .theme-bet-or-bluff .bg-scene::before { content: 'üé∞'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; opacity: 0.25; }

        /* ===== UI COMPONENTS ===== */
        .game-icon { width: 100px; height: 100px; margin: 0 auto 1.5rem; color: var(--accent); position: relative; }
        .game-icon svg { width: 100%; height: 100%; filter: drop-shadow(0 0 35px var(--accent-glow)); }
        .game-icon::before { content: ''; position: absolute; inset: -35px; background: radial-gradient(circle, var(--accent-glow), transparent 70%); border-radius: 50%; z-index: -1; animation: iconGlow 2s ease-in-out infinite; }
        @keyframes iconGlow { 0%,100% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.25); opacity: 0.9; } }

        main { flex: 1; display: flex; align-items: center; justify-content: center; padding: 80px 20px 40px; position: relative; z-index: 1; }
        .lobby-container { width: 100%; max-width: 440px; }
        .game-header { text-align: center; margin-bottom: 2rem; }
        .game-title { font-family: 'Bebas Neue', sans-serif; font-size: 4rem; letter-spacing: 8px; line-height: 1; margin-bottom: 0.5rem; text-shadow: 0 0 80px var(--accent-glow); }
        .game-tagline { color: var(--accent); font-size: 1.1rem; font-weight: 600; letter-spacing: 4px; text-transform: uppercase; text-shadow: 0 0 30px var(--accent-glow); }
        .game-players { color: var(--muted); font-size: 0.9rem; margin-top: 0.5rem; }

        .htp-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-left: 4px solid var(--accent); border-radius: 16px; padding: 1.25rem 1.5rem; margin-bottom: 1.5rem; backdrop-filter: blur(15px); }
        .htp-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem; }
        .htp-title { font-size: 0.8rem; font-weight: 700; color: var(--accent); text-transform: uppercase; letter-spacing: 2px; }
        .htp-expand { background: none; border: none; color: var(--muted); font-size: 0.8rem; font-weight: 600; cursor: pointer; }
        .htp-expand:hover { color: var(--accent); }
        .htp-summary { color: var(--muted); font-size: 0.95rem; line-height: 1.7; }

        .lobby-card { background: rgba(10,10,20,0.85); border: 1px solid var(--border); border-radius: 24px; padding: 2.5rem; position: relative; backdrop-filter: blur(25px); box-shadow: 0 30px 100px rgba(0,0,0,0.5); }
        .lobby-card::before { content: ''; position: absolute; top: 0; left: 40px; right: 40px; height: 3px; background: linear-gradient(90deg, transparent, var(--accent), transparent); border-radius: 3px; }

        .input-group { margin-bottom: 1.5rem; }
        .input-label { display: block; font-size: 0.75rem; font-weight: 700; color: var(--muted); margin-bottom: 0.6rem; text-transform: uppercase; letter-spacing: 1.5px; }
        .input-field { width: 100%; padding: 1rem 1.2rem; background: rgba(0,0,0,0.4); border: 2px solid var(--border); border-radius: 12px; color: var(--text); font-size: 1rem; font-family: inherit; transition: all 0.2s; }
        .input-field:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 4px var(--accent-glow); }
        .input-field:disabled { opacity: 0.5; }
        .input-hint { font-size: 0.85rem; color: var(--muted); margin-top: 0.6rem; }
        .input-hint a { color: var(--accent); text-decoration: none; font-weight: 600; }
        .room-code-input { text-transform: uppercase; font-family: 'Bebas Neue'; font-size: 2rem; letter-spacing: 12px; text-align: center; }

        .btn { width: 100%; padding: 1.1rem; border-radius: 12px; font-family: 'Bebas Neue'; font-size: 1.4rem; letter-spacing: 3px; cursor: pointer; border: none; transition: all 0.2s; }
        .btn-primary { background: var(--accent); color: white; box-shadow: 0 8px 40px var(--accent-glow); }
        .btn-primary:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 15px 60px var(--accent-glow); filter: brightness(1.15); }
        .btn-secondary { background: transparent; color: var(--text); border: 2px solid var(--border); }
        .btn-secondary:hover:not(:disabled) { border-color: var(--accent); background: rgba(255,255,255,0.05); }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .btn-loading::after { content: ''; width: 18px; height: 18px; border: 2px solid transparent; border-top-color: currentColor; border-radius: 50%; animation: spin 0.7s linear infinite; margin-left: 10px; display: inline-block; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .divider { display: flex; align-items: center; gap: 1.2rem; margin: 1.8rem 0; }
        .divider-line { flex: 1; height: 1px; background: var(--border); }
        .divider-text { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 3px; color: var(--muted); }

        .message { padding: 1rem; border-radius: 10px; margin-top: 1.2rem; font-size: 0.9rem; font-weight: 600; display: none; text-align: center; }
        .message.error { background: rgba(239,68,68,0.25); border: 1px solid rgba(239,68,68,0.5); color: #fca5a5; }
        .message.success { background: rgba(34,197,94,0.25); border: 1px solid rgba(34,197,94,0.5); color: #86efac; }
        .message.visible { display: block; }

        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 1000; padding: 1rem; }
        .modal-overlay.visible { display: flex; }
        .modal { background: #14141f; border: 1px solid var(--border); border-radius: 24px; width: 100%; max-width: 500px; max-height: 90vh; display: flex; flex-direction: column; box-shadow: 0 0 150px var(--accent-glow); }
        .modal-header { padding: 1.5rem 2rem; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .modal-title { font-family: 'Bebas Neue'; font-size: 1.6rem; letter-spacing: 3px; color: var(--accent); }
        .modal-close { background: none; border: none; color: var(--muted); font-size: 2rem; cursor: pointer; line-height: 1; }
        .modal-body { padding: 2rem; color: var(--muted); line-height: 1.8; overflow-y: auto; }
        .modal-body h3 { font-family: 'Bebas Neue'; color: var(--accent); margin: 1.2rem 0 0.5rem; font-size: 1.2rem; letter-spacing: 2px; }
        .modal-body h3:first-child { margin-top: 0; }
        .modal-body ul { margin-left: 1.5rem; }
        .modal-body li { color: var(--text); margin-bottom: 0.4rem; }
        .modal-body strong { color: var(--accent); }
        .modal-footer { padding: 1.2rem 2rem; border-top: 1px solid var(--border); }
        .modal-btn { width: 100%; padding: 1rem; background: var(--accent); color: white; border: none; border-radius: 12px; font-family: 'Bebas Neue'; font-size: 1.2rem; letter-spacing: 2px; cursor: pointer; }

        footer { background: #000; position: relative; z-index: 10; }
        .footer-border { height: 4px; background: linear-gradient(90deg, #ff6b9d, #4facfe, #a855f7, #ff6b9d); background-size: 300% 100%; animation: gradientSlide 6s linear infinite; }
        @keyframes gradientSlide { 0% { background-position: 0% 50%; } 100% { background-position: 300% 50%; } }
        .footer-main { max-width: 1100px; margin: 0 auto; padding: 40px 20px 25px; }
        .footer-links { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto; }
        .footer-column { text-align: center; }
        .footer-column h5 { font-family: 'Bebas Neue'; font-size: 0.9rem; letter-spacing: 2px; margin-bottom: 12px; color: rgba(255,255,255,0.8); }
        .footer-column ul { list-style: none; display: flex; flex-direction: column; gap: 8px; }
        .footer-column a { color: rgba(255,255,255,0.4); font-size: 0.85rem; text-decoration: none; }
        .footer-bottom { padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.08); text-align: center; }
        .footer-copyright { font-size: 0.8rem; color: rgba(255,255,255,0.4); margin-bottom: 10px; }
        .footer-legal { display: flex; justify-content: center; gap: 20px; }
        .footer-legal a { color: rgba(255,255,255,0.4); font-size: 0.75rem; text-decoration: none; }

        @media (max-width: 600px) {
            main { padding: 70px 16px 30px; }
            .game-icon { width: 80px; height: 80px; }
            .game-title { font-size: 3rem; letter-spacing: 5px; }
            .lobby-card { padding: 1.8rem; }
            .footer-links { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="theme-spyfall">
<div class="bg-container"><div class="bg-base"></div><div class="bg-scene"></div></div>
<div id="site-header"></div>
<main>
    <div class="lobby-container">
        <div class="game-header">
            <div class="game-icon" id="game-icon"></div>
            <h1 class="game-title" id="game-title">LOADING</h1>
            <p class="game-tagline" id="game-tagline">...</p>
            <p class="game-players" id="game-players">...</p>
        </div>
        <div class="htp-card">
            <div class="htp-header">
                <span class="htp-title">How to Play</span>
                <button class="htp-expand" onclick="showFullRules()">Full Rules ‚Üí</button>
            </div>
            <p class="htp-summary" id="htp-summary"></p>
        </div>
        <div class="lobby-card">
            <div class="input-group">
                <label class="input-label" for="player-name">Your Name</label>
                <input type="text" id="player-name" class="input-field" placeholder="Loading..." maxlength="20" autocomplete="off">
                <p class="input-hint" id="name-hint">Loading...</p>
            </div>
            <button class="btn btn-primary" id="btn-create" onclick="createRoom()">Create Room</button>
            <div class="divider"><div class="divider-line"></div><span class="divider-text">Or Join</span><div class="divider-line"></div></div>
            <div class="input-group">
                <label class="input-label" for="room-code">Room Code</label>
                <input type="text" id="room-code" class="input-field room-code-input" placeholder="ABC123" maxlength="6" autocomplete="off">
            </div>
            <button class="btn btn-secondary" id="btn-join" onclick="joinRoom()">Join Room</button>
            <div class="message error" id="error-message"></div>
            <div class="message success" id="success-message"></div>
        </div>
    </div>
</main>
<div class="modal-overlay" id="rules-modal">
    <div class="modal">
        <div class="modal-header">
            <h2 class="modal-title" id="modal-title">How to Play</h2>
            <button class="modal-close" onclick="closeModal()">√ó</button>
        </div>
        <div class="modal-body" id="modal-body"></div>
        <div class="modal-footer"><button class="modal-btn" onclick="closeModal()">Got It</button></div>
    </div>
</div>
<footer>
    <div class="footer-border"></div>
    <div class="footer-main">
        <div class="footer-links">
            <div class="footer-column"><h5>GAMES</h5><ul><li><a href="/solo">Solo</a></li><li><a href="/squad-games.html">Squad</a></li><li><a href="/party">Party</a></li></ul></div>
            <div class="footer-column"><h5>COMMUNITY</h5><ul><li><a href="/leaderboards">Leaderboards</a></li><li><a href="/supporters">Supporters</a></li></ul></div>
            <div class="footer-column"><h5>COMPANY</h5><ul><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></div>
        </div>
        <div class="footer-bottom">
            <p class="footer-copyright">¬© 2025 TheGaming.co</p>
            <div class="footer-legal"><a href="/privacy">Privacy</a><a href="/terms">Terms</a></div>
        </div>
    </div>
</footer>
