<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truth or Dare - PlayHub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* [STYLES ARE OMITTED FOR BREVITY, ASSUME THEY ARE COPIED FROM PREVIOUS RESPONSES] */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #fafbff; color: #1a1a1a; overflow-x: hidden; position: relative; min-height: 100vh; }
        h1, h2, h3 { font-family: 'Bebas Neue', sans-serif; letter-spacing: 1px; }

        /* Animated background blobs */
        .bg-shape { position: fixed; pointer-events: none; z-index: 0; opacity: 0.6; }
        .shape-1 { top: -80px; right: -80px; width: 350px; height: 350px; background: linear-gradient(135deg, #ff6b9d30 0%, #c4456930 100%); border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; animation: morph 10s ease-in-out infinite; }
        .shape-2 { top: 50%; left: -120px; width: 300px; height: 300px; background: linear-gradient(135deg, #ff6b9d30 0%, #c4456930 100%); border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; animation: morph 12s ease-in-out infinite reverse; }
        .shape-3 { bottom: -80px; right: 15%; width: 280px; height: 280px; background: linear-gradient(135deg, #ff6b9d30 0%, #c4456930 100%); border-radius: 50% 50% 30% 70% / 50% 50% 70% 30%; animation: morph 14s ease-in-out infinite; }
        @keyframes morph { 0%, 100% { border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; transform: rotate(0deg); } 50% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; transform: rotate(5deg); } }

        .container { max-width: 900px; margin: 0 auto; padding: 0 40px; position: relative; z-index: 1; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* Navigation */
        nav { padding: 30px 0; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid #1a1a1a; margin-bottom: 40px; position: relative; z-index: 10; }
        .logo-nav { font-family: 'Bebas Neue', sans-serif; font-size: 2.1rem; letter-spacing: 2px; color: #1a1a1a; text-decoration: none; }
        .back-btn { display: inline-flex; align-items: center; gap: 8px; color: #666; text-decoration: none; font-weight: 700; font-size: 0.95rem; transition: color 0.3s ease; }
        .back-btn:hover { color: #1a1a1a; }

        /* General Content */
        .game-content { flex: 1; display: flex; flex-direction: column; padding-bottom: 60px; }
        .hidden { display: none !important; }

        /* --- SCREEN STYLES (Category, Pack Selection) --- */
        .selection-screen { max-width: 800px; margin: 40px auto; }
        .selection-header { text-align: center; margin-bottom: 50px; }
        .selection-header h2 { font-size: 4.5rem; line-height: 1; margin-bottom: 15px; text-shadow: 2px 2px 0 rgba(255, 107, 157, 0.2); }
        .selection-header p { font-size: 1.2rem; color: #666; font-weight: 500; }
        
        /* 3x2 Grid for 6 categories */
        .selection-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; } 
        
        .selection-card { background: white; border: 3px solid #1a1a1a; padding: 40px 30px; cursor: pointer; transition: all 0.3s ease; box-shadow: 5px 5px 0 #e0e0e0; text-align: center; }
        .selection-card:hover { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #e0e0e0; }
        .selection-icon { font-size: 3rem; margin-bottom: 15px; }
        .selection-card h3 { font-size: 2rem; margin-bottom: 10px; line-height: 1; }
        .selection-description { font-size: 0.95rem; color: #666; margin-bottom: 12px; font-weight: 500; line-height: 1.5; }

        /* Pack Specific Styles */
        .packs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; } 

        .pack-card { background: white; border: 3px solid #1a1a1a; padding: 35px 25px; cursor: pointer; transition: all 0.3s ease; box-shadow: 5px 5px 0 #e0e0e0; text-align: center; }
        .pack-number { font-family: 'Bebas Neue', sans-serif; font-size: 3rem; color: #ff6b9d; margin-bottom: 10px; line-height: 1; }
        .pack-questions { font-family: 'Bebas Neue', sans-serif; font-size: 0.9rem; color: #666; letter-spacing: 1px; }

        .back-link { display: inline-flex; align-items: center; gap: 8px; color: #666; text-decoration: none; font-weight: 700; font-size: 0.95rem; cursor: pointer; margin-bottom: 30px; }
        .back-link:hover { color: #1a1a1a; }

        /* --- GAME SCREEN STYLES --- */
        .game-screen { display: none; }
        .progress-bar-container { background: white; border: 3px solid #1a1a1a; padding: 8px; margin-bottom: 40px; box-shadow: 4px 4px 0 #e0e0e0; }
        .progress-bar { height: 12px; background: #f0f0f0; position: relative; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); transition: width 0.3s ease; }
        .game-header { text-align: center; margin-bottom: 40px; position: relative; }
        .quit-btn { position: absolute; right: 0; top: 0; background: white; border: 2px solid #1a1a1a; padding: 8px 20px; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 1px; cursor: pointer; transition: all 0.3s ease; color: #666; }
        .quit-btn:hover { background: #f0f0f0; color: #1a1a1a; }
        
        .mode-label { font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem; color: #ff6b9d; letter-spacing: 2px; margin-bottom: 8px; }
        .prompt-counter { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; color: #666; letter-spacing: 1px; }

        /* Prompt Card (Always visible when playing) */
        .prompt-card { 
            background: white; 
            color: #1a1a1a; 
            border: 4px solid #1a1a1a; 
            padding: 60px 50px; 
            margin-bottom: 40px; 
            box-shadow: 8px 8px 0 #e0e0e0; 
            min-height: 280px; 
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            text-align: center;
        }
        
        .prompt-label {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3rem;
            color: #ff6b9d;
            margin-bottom: 15px;
            line-height: 1;
        }

        .prompt-text { 
            font-size: 1.8rem; 
            line-height: 1.5; 
            font-weight: 600; 
            color: #1a1a1a; 
        }

        .answer-prompt {
            font-size: 1rem;
            color: #666;
            font-weight: 700;
            margin-top: 20px;
        }
        
        .navigation { 
            display: flex; 
            gap: 15px;
            justify-content: center;
        }
        .nav-btn { flex: 1; padding: 18px 30px; font-size: 1.2rem; font-family: 'Bebas Neue', sans-serif; letter-spacing: 1px; border: 3px solid #1a1a1a; cursor: pointer; transition: all 0.3s ease; }
        .nav-btn.prev { 
            background: white; color: #1a1a1a; box-shadow: 5px 5px 0 #e0e0e0;
            flex-grow: 0.5;
        }
        .nav-btn.prev:hover:not(:disabled) { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #e0e0e0; }
        .nav-btn.next { 
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); color: white; border-color: #8b2e47; box-shadow: 5px 5px 0 #8b2e47; 
            flex-grow: 1;
        }
        .nav-btn.next:hover:not(:disabled) { transform: translate(2px, -2px); box-shadow: 3px 3px 0 #8b2e47; }
        .nav-btn:disabled { opacity: 0.4; cursor: not-allowed; }

        /* End Screen */
        .end-screen { display: none; text-align: center; max-width: 700px; margin: 80px auto; }
        .end-screen h2 { font-size: 5.5rem; line-height: 1; margin-bottom: 30px; text-shadow: 3px 3px 0 rgba(255, 107, 157, 0.2); }
        .end-message { font-size: 1.3rem; line-height: 1.8; color: #666; margin-bottom: 50px; font-weight: 500; }
        .end-actions { display: flex; flex-direction: column; gap: 15px; }
        .action-btn { padding: 18px 40px; font-size: 1.3rem; font-family: 'Bebas Neue', sans-serif; letter-spacing: 1px; border: 3px solid #1a1a1a; cursor: pointer; transition: all 0.3s ease; }
        .action-btn.primary { background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); color: white; border-color: #8b2e47; box-shadow: 5px 5px 0 #8b2e47; }
        .action-btn.secondary { background: white; color: #1a1a1a; box-shadow: 5px 5px 0 #e0e0e0; }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container { padding: 0 20px; }
            .selection-header h2, .end-screen h2 { font-size: 3.5rem; }
            .selection-grid { grid-template-columns: 1fr; } 
            .packs-grid { grid-template-columns: 1fr; }
            .quit-btn { position: static; margin-bottom: 15px; display: block; width: 100%; }
            .prompt-text { font-size: 1.4rem; }
            .prompt-card { padding: 40px 30px; min-height: 240px; }
            .nav-btn { font-size: 1.1rem; padding: 15px 20px; }
        }
    </style>
</head>
<body>
    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>
    <div class="bg-shape shape-3"></div>

    <div class="container">
        <nav>
            <a href="index.html" class="logo-nav">PLAYHUB</a>
            <a href="date-night.html" class="back-btn">
                ‚Üê Back to Games
            </a>
        </nav>

        <div class="game-content">
            
            <div class="selection-screen" id="categorySelection">
                <div class="selection-header">
                    <h2>TRUTH OR DARE</h2>
                    <p>Choose your level‚Äîanswer the truth or face the dare!</p>
                </div>

                <div class="selection-grid">
                    
                    <div class="selection-card" onclick="showPacks('flirty')">
                        <div class="selection-icon">üíã</div>
                        <h3>FLIRTY & FUN</h3>
                        <p class="selection-description">Light secrets and playful, romantic physical dares.</p>
                    </div>

                    <div class="selection-card" onclick="showPacks('deep')">
                        <div class="selection-icon">üí≠</div>
                        <h3>DEEP CONVERSATION</h3>
                        <p class="selection-description">Serious questions on regrets, goals, and emotional connection.</p>
                    </div>
                    
                    <div class="selection-card" onclick="showPacks('spicy')">
                        <div class="selection-icon">üî•</div>
                        <h3>SPICY & DARING</h3>
                        <p class="selection-description">Intimate questions and sexy physical challenges.</p>
                    </div>

                    <div class="selection-card" onclick="showPacks('past')">
                        <div class="selection-icon">üï∞Ô∏è</div>
                        <h3>NOSTALGIA & SECRETS</h3>
                        <p class="selection-description">Exposing embarrassing past moments, childhood secrets, and silly history.</p>
                    </div>
                    
                    <div class="selection-card" onclick="showPacks('future')">
                        <div class="selection-icon">‚ú®</div>
                        <h3>FUTURE & FANTASY</h3>
                        <p class="selection-description">Hypothetical choices about dreams, goals, and unbelievable futures.</p>
                    </div>

                    <div class="selection-card" onclick="showPacks('silly')">
                        <div class="selection-icon">ü§™</div>
                        <h3>SILLY & PHYSICAL</h3>
                        <p class="selection-description">Focus on funny truths and silly physical dares to make your partner laugh.</p>
                    </div>

                </div>
            </div>

            <div class="selection-screen hidden" id="packSelection">
                <span class="back-link" onclick="backToCategories()">‚Üê Back to Categories</span>
                
                <div class="selection-header">
                    <h2 id="packCategoryTitle"></h2>
                    <p>Choose a pack of 18 challenges</p>
                </div>

                <div class="packs-grid" id="packsGrid">
                    </div>
            </div>

            <div class="game-screen" id="gameScreen">
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <div class="game-header">
                    <button class="quit-btn" onclick="quitToPacks()">QUIT</button>
                    <div class="mode-label">TRUTH OR DARE</div>
                    <div class="prompt-counter" id="promptCounter">CHALLENGE 1 OF 18</div>
                </div>

                <div class="prompt-card" id="promptCard">
                    <p class="prompt-label" id="typeLabel">TRUTH</p>
                    <p class="prompt-text" id="promptText">What is the most ridiculous fight you've ever started?</p>
                    <p class="answer-prompt">Decide who is answering, then click next!</p>
                </div>

                <div class="navigation">
                    <button class="nav-btn prev" id="prevBtn" onclick="previousPrompt()">‚Üê PREVIOUS</button>
                    <button class="nav-btn next" id="nextBtn" onclick="nextPrompt()">NEXT ‚Üí</button>
                </div>
            </div>

            <div class="end-screen" id="endScreen">
                <h2>YOU DID IT! üéâ</h2>
                <p class="end-message">
                    Hope you chose wisely! You survived the challenges.
                </p>
                <div class="end-actions">
                    <button class="action-btn primary" onclick="backToPackSelection()">TRY ANOTHER PACK</button>
                    <button class="action-btn secondary" onclick="backToGames()">BACK TO DATE NIGHT</button>
                </div>
            </div>
        </div>

        <footer>
            </footer>
    </div>

    <script>
        // --- GAME STATE & DATA ---
        let currentPromptIndex = 0;
        let currentCategory = '';
        let currentPack = '';
        let currentPrompts = [];
        const PROMPT_PER_PACK = 18; 
        
        const categoryTitles = {
            'flirty': 'FLIRTY & FUN',
            'deep': 'DEEP CONVERSATION',
            'spicy': 'SPICY & DARING',
            'past': 'NOSTALGIA & SECRETS',
            'future': 'FUTURE & FANTASY',
            'silly': 'SILLY & PHYSICAL',
        };
        
        // Structure: category: { packID: [{type: 'TRUTH'/'DARE', prompt: '...'}, {...}], ... }
        const tdPrompts = {
            flirty: {
                pack1: [
                    { type: 'TRUTH', prompt: "What‚Äôs your current biggest physical turn-on?" },
                    { type: 'DARE', prompt: "Give me a passionate kiss for 20 seconds." },
                    { type: 'TRUTH', prompt: "What's the craziest thing you've done to impress a crush?" },
                    { type: 'DARE', prompt: "Let me put makeup (or condiments) on your face." },
                    { type: 'TRUTH', prompt: "What's the riskiest text message you've ever sent?" },
                    { type: 'DARE', prompt: "Talk in a foreign accent for the next 5 minutes." },
                    { type: 'TRUTH', prompt: "What's the most romantic thing I've done for you?" },
                    { type: 'DARE', prompt: "Do your best catwalk strut across the room." },
                    { type: 'TRUTH', prompt: "What's the most embarrassing clothing item you still own?" },
                    { type: 'DARE', prompt: "Write a love poem about my left ear." },
                    { type: 'TRUTH', prompt: "What fictional character do you wish I looked like?" },
                    { type: 'DARE', prompt: "Blindfold me and feed me something." },
                    { type: 'TRUTH', prompt: "What's your go-to sexy dance move?" },
                    { type: 'DARE', prompt: "Do a dramatic reading of the last text message you sent." },
                    { type: 'TRUTH', prompt: "What's the most money you've spent on an impulse buy?" },
                    { type: 'DARE', prompt: "Take off your shirt and dance for 15 seconds." },
                    { type: 'TRUTH', prompt: "What's the most ridiculous argument you've ever won?" },
                    { type: 'DARE', prompt: "Let me give you a 30-second body massage." }
                ],
                pack2: [
                    { type: 'TRUTH', prompt: "What‚Äôs one thing you find sexy about me that isn't physical?" },
                    { type: 'DARE', prompt: "Let me tickle you for 30 seconds without laughing." },
                    { type: 'TRUTH', prompt: "If you could only keep one memory of us, what would it be?" },
                    { type: 'DARE', prompt: "Act out the first kiss we had." },
                    { type: 'TRUTH', prompt: "What's your honest opinion about my friends?" },
                    { type: 'DARE', prompt: "Put ice cubes down your pants for 10 seconds." },
                    { type: 'TRUTH', prompt: "What movie star would you secretly cheat on me with (if there were no consequences)?" },
                    { type: 'DARE', prompt: "Give me three compliments without using the letter 'E'." },
                    { type: 'TRUTH', prompt: "What‚Äôs the most immature thing you do regularly?" },
                    { type: 'DARE', prompt: "Sing a romantic song using only animal sounds." },
                    { type: 'TRUTH', prompt: "What outfit do you think I look best in?" },
                    { type: 'DARE', prompt: "Let me draw a permanent marker mustache on your face." },
                    { type: 'TRUTH', prompt: "What‚Äôs the craziest food craving you've ever had?" },
                    { type: 'DARE', prompt: "Propose to me dramatically using only song lyrics." },
                    { type: 'TRUTH', prompt: "What's the strangest thing you find attractive?" },
                    { type: 'DARE', prompt: "Wear your shirt backwards for the rest of the game." },
                    { type: 'TRUTH', prompt: "What do you think is my worst habit?" },
                    { type: 'DARE', prompt: "Try to lick your elbow." }
                ],
                pack3: [
                    { type: 'TRUTH', prompt: "What‚Äôs one thing you regret telling me?" },
                    { type: 'DARE', prompt: "Write the alphabet on my back using only your finger." },
                    { type: 'TRUTH', prompt: "What's the most childish thing you still believe?" },
                    { type: 'DARE', prompt: "Let me dress you for the next 10 minutes." },
                    { type: 'TRUTH', prompt: "Who is your celebrity free pass?" },
                    { type: 'DARE', prompt: "Try to fit your fist in your mouth." },
                    { type: 'TRUTH', prompt: "What is your guilty pleasure TV show?" },
                    { type: 'DARE', prompt: "Do the worm across the room." },
                    { type: 'TRUTH', prompt: "What's the most romantic thing you've done that I don't know about?" },
                    { type: 'DARE', prompt: "Take three large bites of a lemon." },
                    { type: 'TRUTH', prompt: "What's the worst meal I‚Äôve ever cooked?" },
                    { type: 'DARE', prompt: "Attempt to juggle three random items." },
                    { type: 'TRUTH', prompt: "What‚Äôs one habit I have that you secretly love?" },
                    { type: 'DARE', prompt: "Give me a one-minute stand-up comedy routine." },
                    { type: 'TRUTH', prompt: "What song describes our relationship best?" },
                    { type: 'DARE', prompt: "Make me laugh without using words." },
                    { type: 'TRUTH', prompt: "What‚Äôs the last thing you cried about?" },
                    { type: 'DARE', prompt: "Pretend to be a traffic cop for two minutes." }
                ],
            },
            deep: {
                pack1: [
                    { type: 'TRUTH', prompt: "What‚Äôs the one goal I don‚Äôt know about?" },
                    { type: 'DARE', prompt: "Call a family member and tell them you love them." },
                    { type: 'TRUTH', prompt: "What‚Äôs your biggest insecurity right now?" },
                    { type: 'DARE', prompt: "Write down the three things you like most about me." },
                    { type: 'TRUTH', prompt: "What's a secret dream you gave up on?" },
                    { type: 'DARE', prompt: "Post a cringe-worthy status/story on social media right now." },
                    { type: 'TRUTH', prompt: "What‚Äôs the one thing you always hide from everyone?" },
                    { type: 'DARE', prompt: "Go outside and sing 'Twinkle Twinkle Little Star' loudly." },
                    { type: 'TRUTH', prompt: "What's a major regret you wish you could undo?" },
                    { type: 'DARE', prompt: "Do 25 push-ups (or sit-ups)." },
                    { type: 'TRUTH', prompt: "Who is the last person you cried in front of?" },
                    { type: 'DARE', prompt: "Show me the last 5 photos in your camera roll and explain them." },
                    { type: 'TRUTH', prompt: "What‚Äôs one thing you need from me right now?" },
                    { type: 'DARE', prompt: "Act like a monkey until you make me laugh." },
                    { type: 'TRUTH', prompt: "What‚Äôs the biggest lie you've ever told your parents?" },
                    { type: 'DARE', prompt: "Tell me a secret you've kept for over a year." },
                    { type: 'TRUTH', prompt: "What did you learn from your last mistake?" },
                    { type: 'DARE', prompt: "Tell me about the worst mistake you ever made." }
                ],
                pack2: [
                    { type: 'TRUTH', prompt: "What's the deepest emotional pain you're still working through?" },
                    { type: 'DARE', prompt: "Stare into my eyes for one minute without blinking." },
                    { type: 'TRUTH', prompt: "What is your biggest fear about our relationship?" },
                    { type: 'DARE', prompt: "Write down a quality you wish you possessed." },
                    { type: 'TRUTH', prompt: "What's one thing you're deeply proud of me for?" },
                    { type: 'DARE', prompt: "Tell me one thing you've never told anyone." },
                    { type: 'TRUTH', prompt: "What does 'home' truly mean to you?" },
                    { type: 'DARE', prompt: "Spend 5 minutes talking about a topic you passionately hate." },
                    { type: 'TRUTH', prompt: "If you could change one thing about your personality, what would it be?" },
                    { type: 'DARE', prompt: "Write a letter to your past self and read it out loud." },
                    { type: 'TRUTH', prompt: "What makes you feel truly seen and understood?" },
                    { type: 'DARE', prompt: "Explain a moment where you felt profound gratitude." },
                    { type: 'TRUTH', prompt: "What is a sacrifice you made for our relationship?" },
                    { type: 'DARE', prompt: "Confess one time you thought about breaking up with me." },
                    { type: 'TRUTH', prompt: "What‚Äôs your opinion on our sex life right now (1-10)?" },
                    { type: 'DARE', prompt: "Call your best friend and tell them how much you appreciate them." },
                    { type: 'TRUTH', prompt: "What is a financial worry you have for our future?" },
                    { type: 'DARE', prompt: "Name one thing you wish I'd stop doing." }
                ],
                pack3: [
                    { type: 'TRUTH', prompt: "What is a secret shame you carry?" },
                    { type: 'DARE', prompt: "Plan our dream trip right now (1 minute)." },
                    { type: 'TRUTH', prompt: "What's the one thing you refuse to compromise on?" },
                    { type: 'DARE', prompt: "Act out the last time you were truly angry." },
                    { type: 'TRUTH', prompt: "What makes you feel unworthy of love?" },
                    { type: 'DARE', prompt: "Read the most embarrassing text message you've ever received." },
                    { type: 'TRUTH', prompt: "What do you value more: loyalty or honesty?" },
                    { type: 'DARE', prompt: "Recite the Pledge of Allegiance while holding your breath." },
                    { type: 'TRUTH', prompt: "What's a life goal you haven't told anyone about?" },
                    { type: 'DARE', prompt: "Write a one-sentence summary of your life philosophy." },
                    { type: 'TRUTH', prompt: "What's the biggest insecurity you have when arguing with me?" },
                    { type: 'DARE', prompt: "Show me a talent that you rarely share with anyone." },
                    { type: 'TRUTH', prompt: "What is the most irresponsible thing you've done with money?" },
                    { type: 'DARE', prompt: "Dance passionately to a piece of classical music." },
                    { type: 'TRUTH', prompt: "Who had the biggest impact on the person you are today?" },
                    { type: 'DARE', prompt: "Give me the longest compliment you can think of." },
                    { type: 'TRUTH', prompt: "What's your biggest personal weakness?" },
                    { type: 'DARE', prompt: "Show me your best impression of me." }
                ]
            },
            spicy: {
                pack1: [
                    { type: 'TRUTH', prompt: "What's the craziest place you've ever hooked up?" },
                    { type: 'DARE', prompt: "Take a piece of clothing off." },
                    { type: 'TRUTH', prompt: "What's your biggest sexual fantasy?" },
                    { type: 'DARE', prompt: "Show me the underwear you're currently wearing." },
                    { type: 'TRUTH', prompt: "Who is the last person you fantasized about (outside of me)?" },
                    { type: 'DARE', prompt: "Whisper a naughty fantasy directly in my ear." },
                    { type: 'TRUTH', prompt: "What's your honest opinion on exhibitionism?" },
                    { type: 'DARE', prompt: "Give me a slow, sensual body rub for one minute." },
                    { type: 'TRUTH', prompt: "What's the most scandalous thing you've ever worn?" },
                    { type: 'DARE', prompt: "Act out a movie scene using only seductive sounds." },
                    { type: 'TRUTH', prompt: "What's the longest you've gone without intimacy?" },
                    { type: 'DARE', prompt: "Bite your lip and maintain eye contact for 10 seconds." },
                    { type: 'TRUTH', prompt: "What's the hottest thing you've ever seen me wear?" },
                    { type: 'DARE', prompt: "Show me your best seductive walk." },
                    { type: 'TRUTH', prompt: "What's a secret habit you have in bed?" },
                    { type: 'DARE', prompt: "Write a very dirty word on your forehead." },
                    { type: 'TRUTH', prompt: "What's the dirtiest phrase you know in a foreign language?" },
                    { type: 'DARE', prompt: "Act out your favorite position." }
                ],
                pack2: [
                    { type: 'TRUTH', prompt: "What's the sexiest scenario you‚Äôve daydreamed about us?" },
                    { type: 'DARE', prompt: "Take a selfie doing your best 'bedroom eyes'." },
                    { type: 'TRUTH', prompt: "What's the biggest physical turn-off for you?" },
                    { type: 'DARE', prompt: "Take a shot of something spicy (hot sauce, pepper)." },
                    { type: 'TRUTH', prompt: "What's one thing you want to try in the bedroom soon?" },
                    { type: 'DARE', prompt: "Give me a lap dance for 30 seconds." },
                    { type: 'TRUTH', prompt: "What's your biggest deal-breaker in intimacy?" },
                    { type: 'DARE', prompt: "Blindfold me and use only your hands to kiss my neck." },
                    { type: 'TRUTH', prompt: "What‚Äôs the fastest you've ever fallen out of love?" },
                    { type: 'DARE', prompt: "Whisper a compliment about my body I haven't heard before." },
                    { type: 'TRUTH', prompt: "What is your ultimate 'free pass' celebrity?" },
                    { type: 'DARE', prompt: "Make out with your arm as if it were me." },
                    { type: 'TRUTH', prompt: "What's one thing I do that makes you instantly wet/hard?" },
                    { type: 'DARE', prompt: "Do the slow motion run from Baywatch." },
                    { type: 'TRUTH', prompt: "Have you ever made out with someone in this room (besides me)?" },
                    { type: 'DARE', prompt: "Let me remove one piece of your clothing using only my teeth." },
                    { type: 'TRUTH', prompt: "What‚Äôs the most fun you've had with a partner besides sex?" },
                    { type: 'DARE', prompt: "Lick a line of salt off my hand." }
                ],
                pack3: [
                    { type: 'TRUTH', prompt: "What's the most awkward sexual moment you‚Äôve had with anyone?" },
                    { type: 'DARE', prompt: "Kiss me from my ankle up to my knee." },
                    { type: 'TRUTH', prompt: "Have you ever faked an orgasm (with me or someone else)?" },
                    { type: 'DARE', prompt: "Write 'I love sex' on your chest/stomach with a washable marker." },
                    { type: 'TRUTH', prompt: "What‚Äôs one thing you always hide from me about your sexual past?" },
                    { type: 'DARE', prompt: "Act out three non-verbal signals you use to indicate you want sex." },
                    { type: 'TRUTH', prompt: "Have you ever had a one-night stand that you regretted?" },
                    { type: 'DARE', prompt: "Give me a two-minute foot massage." },
                    { type: 'TRUTH', prompt: "What's the dirtiest thing you've done in a movie theater?" },
                    { type: 'DARE', prompt: "Wear your pants backwards for the rest of the game." },
                    { type: 'TRUTH', prompt: "What‚Äôs a secret fantasy you have that you think is too weird to share?" },
                    { type: 'DARE', prompt: "Act out your partner's 'O' face." },
                    { type: 'TRUTH', prompt: "What is one thing I do during sex that you want more of?" },
                    { type: 'DARE', prompt: "Take off your bra or socks without using your hands." },
                    { type: 'TRUTH', prompt: "What‚Äôs the biggest physical risk you‚Äôve taken?" },
                    { type: 'DARE', prompt: "Dance seductively to a nursery rhyme." },
                    { type: 'TRUTH', prompt: "What is your favorite body part on me?" },
                    { type: 'DARE', prompt: "Lick whipped cream off my cheek." }
                ]
            },
            past: {
                pack1: [
                    { type: 'TRUTH', prompt: "What‚Äôs the most embarrassing pet name you've had?" },
                    { type: 'DARE', prompt: "Show me the worst haircut you've ever had a photo of." },
                    { type: 'TRUTH', prompt: "What‚Äôs the biggest lie you told your best friend?" },
                    { type: 'DARE', prompt: "Tell me about a time you almost got arrested." },
                    { type: 'TRUTH', prompt: "What's the most irresponsible thing you've done?" },
                    { type: 'DARE', prompt: "Call your mother and sing her a lullaby." },
                    { type: 'TRUTH', prompt: "What's the worst fashion trend you followed?" },
                    { type: 'DARE', prompt: "Write a poem about your current job." },
                    { type: 'TRUTH', prompt: "What‚Äôs the dumbest thing you did to impress an ex?" },
                    { type: 'DARE', prompt: "Act out your most embarrassing moment." },
                    { type: 'TRUTH', prompt: "What's one thing about your family I don't know?" },
                    { type: 'DARE', prompt: "Do 5 push-ups and yell your own name each time." },
                    { type: 'TRUTH', prompt: "What‚Äôs the most immature way you‚Äôve handled a breakup?" },
                    { type: 'DARE', prompt: "Speak in a high-pitched voice until the next round." },
                    { type: 'TRUTH', prompt: "What's a secret language you used as a kid?" },
                    { type: 'DARE', prompt: "Show me the weirdest text thread you have." },
                    { type: 'TRUTH', prompt: "What‚Äôs the most ridiculous rumor you started?" },
                    { type: 'DARE', prompt: "Stare at the ceiling and clap every time I say 'The'." }
                ],
                pack2: [
                    { type: 'TRUTH', prompt: "What's the most expensive thing you stole?" },
                    { type: 'DARE', prompt: "Describe your partner in a haiku (5-7-5 syllables)." },
                    { type: 'TRUTH', prompt: "What was your most regrettable teenage mistake?" },
                    { type: 'DARE', prompt: "Pour a cup of water over your head." },
                    { type: 'TRUTH', prompt: "What's one physical feature you used to hate but now love?" },
                    { type: 'DARE', prompt: "Do an interpretive dance about your breakfast." },
                    { type: 'TRUTH', prompt: "What‚Äôs the biggest lie on your resume?" },
                    { type: 'DARE', prompt: "Let me pop any visible pimples on your face." },
                    { type: 'TRUTH', prompt: "What's the most disgusting thing you've ever eaten?" },
                    { type: 'DARE', prompt: "Try to touch your nose with your tongue." },
                    { type: 'TRUTH', prompt: "What's the most embarrassing item you've bought recently?" },
                    { type: 'DARE', prompt: "Show me your saddest face." },
                    { type: 'TRUTH', prompt: "What's a secret skill or talent you have?" },
                    { type: 'DARE', prompt: "Pretend to be a dinosaur for one minute." },
                    { type: 'TRUTH', prompt: "What's the weirdest dream you've ever had?" },
                    { type: 'DARE', prompt: "Draw a funny picture of your partner on a sticky note." },
                    { type: 'TRUTH', prompt: "What's one thing you wish your parents knew about your past?" },
                    { type: 'DARE', prompt: "Do the chicken dance loudly." }
                ],
                pack3: [
                    { type: 'TRUTH', prompt: "What‚Äôs the biggest secret your family is hiding?" },
                    { type: 'DARE', prompt: "Give me an honest, unedited impression of my singing voice." },
                    { type: 'TRUTH', prompt: "What's the worst fight you've ever seen?" },
                    { type: 'DARE', prompt: "Pretend the floor is lava and navigate the room." },
                    { type: 'TRUTH', prompt: "What's your most expensive impulse purchase?" },
                    { type: 'DARE', prompt: "Try to put your foot behind your head." },
                    { type: 'TRUTH', prompt: "What's the most embarrassing thing you've done while drunk/high?" },
                    { type: 'DARE', prompt: "Sing the first line of every song you can think of until I say stop." },
                    { type: 'TRUTH', prompt: "What's one thing you regret saying to a friend?" },
                    { type: 'DARE', prompt: "Make a ridiculous face and hold it for one minute." },
                    { type: 'TRUTH', prompt: "What's the meanest thing you've ever done to a sibling?" },
                    { type: 'DARE', prompt: "Eat a spoonful of a condiment you hate (e.g., mustard/mayo)." },
                    { type: 'TRUTH', prompt: "What's one thing you wish I'd change about my appearance?" },
                    { type: 'DARE', prompt: "Do a handstand against the wall for 10 seconds." },
                    { type: 'TRUTH', prompt: "What's the most embarrassing text in your phone right now?" },
                    { type: 'DARE', prompt: "Let me paint your nails the ugliest color I can find." },
                    { type: 'TRUTH', prompt: "What‚Äôs a bad habit I have that you've given up trying to fix?" },
                    { type: 'DARE', prompt: "Put on three layers of mismatched clothing." }
                ]
            },
            future: {
                pack1: [
                    { type: 'TRUTH', prompt: "What‚Äôs your secret dream job if money weren‚Äôt an issue?" },
                    { type: 'DARE', prompt: "Plan our dream future home (where, style, 3 details) in 1 minute." },
                    { type: 'TRUTH', prompt: "What‚Äôs the one country you MUST visit before you die?" },
                    { type: 'DARE', prompt: "Close your eyes and point to a random spot on a map. We have to go there someday." },
                    { type: 'TRUTH', prompt: "What's the biggest risk you want us to take together?" },
                    { type: 'DARE', prompt: "Write down a ridiculous business idea and try to sell it to me in 30 seconds." },
                    { type: 'TRUTH', prompt: "What's one major thing you want to accomplish in the next 5 years?" },
                    { type: 'DARE', prompt: "Act out a future argument we might have." },
                    { type: 'TRUTH', prompt: "What would you do if you won the lottery tomorrow?" },
                    { type: 'DARE', prompt: "Draw a mascot for our future relationship." },
                    { type: 'TRUTH', prompt: "What's one thing you hope never changes about our relationship?" },
                    { type: 'DARE', prompt: "Try to break dance to a piece of classical music." },
                    { type: 'TRUTH', prompt: "What would you do if you suddenly became famous?" },
                    { type: 'DARE', prompt: "Act out a sci-fi character getting their powers." },
                    { type: 'TRUTH', prompt: "What's the most significant thing you want to teach our future kids?" },
                    { type: 'DARE', prompt: "Give a 30-second motivational speech about achieving greatness." },
                    { type: 'TRUTH', prompt: "What's one quality you secretly judge other couples for lacking?" },
                    { type: 'DARE', prompt: "Pretend you are a superhero and give yourself a ridiculous name." }
                ],
                pack2: [
                    { type: 'TRUTH', prompt: "What's one thing you'd change about our current living situation?" },
                    { type: 'DARE', prompt: "Create a secret handshake for us right now." },
                    { type: 'TRUTH', prompt: "What would you do if you could fly for a day?" },
                    { type: 'DARE', prompt: "Act out a dramatic scene from a silent film." },
                    { type: 'TRUTH', prompt: "What's the biggest sacrifice you'd make for my dream?" },
                    { type: 'DARE', prompt: "Call a random business and ask a ridiculous question." },
                    { type: 'TRUTH', prompt: "What's the one celebrity interaction you would risk everything for?" },
                    { type: 'DARE', prompt: "Try to lick your eyebrow." },
                    { type: 'TRUTH', prompt: "What's one skill you want to master together?" },
                    { type: 'DARE', prompt: "Blindly trust me to put a mystery item in your mouth." },
                    { type: 'TRUTH', prompt: "What's one tradition you want us to start?" },
                    { type: 'DARE', prompt: "Tell me a secret you‚Äôve never told anyone." },
                    { type: 'TRUTH', prompt: "What's one thing you hope I never tell anyone about you?" },
                    { type: 'DARE', prompt: "Give me an honest, detailed critique of my last outfit." },
                    { type: 'TRUTH', prompt: "What's your biggest pet peeve about society?" },
                    { type: 'DARE', prompt: "Try to fit as many crackers/biscuits in your mouth as possible." },
                    { type: 'TRUTH', prompt: "What's the biggest difference in our long-term vision?" },
                    { type: 'DARE', prompt: "Recite the alphabet backward." }
                ],
                pack3: [
                    { type: 'TRUTH', prompt: "What's the most unbelievable story about your life that is actually true?" },
                    { type: 'DARE', prompt: "Act out a dramatic fight scene in slow motion." },
                    { type: 'TRUTH', prompt: "If you could change one thing about your physical appearance, what would it be?" },
                    { type: 'DARE', prompt: "Serenade me with an improvised song about my shoes." },
                    { type: 'TRUTH', prompt: "What's the most impulsive decision you've ever made?" },
                    { type: 'DARE', prompt: "Try to put on pants without using your hands." },
                    { type: 'TRUTH', prompt: "What's the biggest secret fear you have for our future together?" },
                    { type: 'DARE', prompt: "Make the sound of a chicken laying an egg." },
                    { type: 'TRUTH', prompt: "What‚Äôs one thing you‚Äôve learned from our relationship that surprised you?" },
                    { type: 'DARE', prompt: "Give me a piggyback ride around the room." },
                    { type: 'TRUTH', prompt: "If you could become invisible for a day, what would you do?" },
                    { type: 'DARE', prompt: "Pretend to be a puppet while I control your arms." },
                    { type: 'TRUTH', prompt: "What's the biggest life lesson you‚Äôve learned from me?" },
                    { type: 'DARE', prompt: "Let me try to balance a spoon on your nose." },
                    { type: 'TRUTH', prompt: "What's the one thing you hope I never discover about your past?" },
                    { type: 'DARE', prompt: "Eat a spoonful of plain sugar." },
                    { type: 'TRUTH', prompt: "What‚Äôs the most difficult truth about yourself to admit?" },
                    { type: 'DARE', prompt: "Blindly give me a handshake and tell me your best pickup line." }
                ]
            },
            silly: {
                pack1: [
                    { type: 'TRUTH', prompt: "What's the last childish thing you did alone?" },
                    { type: 'DARE', prompt: "Do the Macarena for 30 seconds." },
                    { type: 'TRUTH', prompt: "What's the silliest word you know?" },
                    { type: 'DARE', prompt: "Try to imitate a famous cartoon character." },
                    { type: 'TRUTH', prompt: "What's the most ridiculous gift you've ever received?" },
                    { type: 'DARE', prompt: "Walk like a crab until the next round." },
                    { type: 'TRUTH', prompt: "What's the silliest reason you've ever cried?" },
                    { type: 'DARE', prompt: "Serenade me with a song about cheese." },
                    { type: 'TRUTH', prompt: "What's the weirdest noise you can make?" },
                    { type: 'DARE', prompt: "Try to peel a banana using only your feet." },
                    { type: 'TRUTH', prompt: "What's the strangest food combination you secretly enjoy?" },
                    { type: 'DARE', prompt: "Tell me a secret while singing it." },
                    { type: 'TRUTH', prompt: "What's the one thing you refuse to share?" },
                    { type: 'DARE', prompt: "Pretend to be a superhero whose power is eating vegetables." },
                    { type: 'TRUTH', prompt: "What's the most embarrassing item you have in your car/bag right now?" },
                    { type: 'DARE', prompt: "Do your best zombie impression." },
                    { type: 'TRUTH', prompt: "What's the one piece of slang you secretly hate?" },
                    { type: 'DARE', prompt: "Try to scare me by only whispering." }
                ],
                pack2: [
                    { type: 'TRUTH', prompt: "What's the most ridiculous thing you bought this week?" },
                    { type: 'DARE', prompt: "Do a dramatic movie death scene." },
                    { type: 'TRUTH', prompt: "What's one thing you do when you think you're alone?" },
                    { type: 'DARE', prompt: "Put socks on your hands and touch your face." },
                    { type: 'TRUTH', prompt: "What‚Äôs the most embarrassing song you secretly love?" },
                    { type: 'DARE', prompt: "Eat a cracker without making any noise." },
                    { type: 'TRUTH', prompt: "What's the most childish punishment you've received as an adult?" },
                    { type: 'DARE', prompt: "Pretend you are a mime stuck in a glass box." },
                    { type: 'TRUTH', prompt: "What's the one bad movie you genuinely love?" },
                    { type: 'DARE', prompt: "Try to balance a feather on your head for 10 seconds." },
                    { type: 'TRUTH', prompt: "What's the weirdest thing you've worn in the past week?" },
                    { type: 'DARE', prompt: "Only speak in riddles until the next turn." },
                    { type: 'TRUTH', prompt: "What's a strange habit you picked up during lockdown?" },
                    { type: 'DARE', prompt: "Walk around backward for the next two minutes." },
                    { type: 'TRUTH', prompt: "What's the dumbest thing you've argued about recently?" },
                    { type: 'DARE', prompt: "Act like a chicken crossing the road." },
                    { type: 'TRUTH', prompt: "What's the most pointless piece of trivia you know?" },
                    { type: 'DARE', prompt: "Let me draw a funny animal on your leg." }
                ],
                pack3: [
                    { type: 'TRUTH', prompt: "What's the silliest dance you can do?" },
                    { type: 'DARE', prompt: "Try to sing opera." },
                    { type: 'TRUTH', prompt: "What's the weirdest thing you've found in my bag/car?" },
                    { type: 'DARE', prompt: "Hide a random object and make me guess where it is using only 'hot' and 'cold'." },
                    { type: 'TRUTH', prompt: "What's the strangest thing you've ever put in the microwave?" },
                    { type: 'DARE', prompt: "Try to say three complicated tongue twisters correctly." },
                    { type: 'TRUTH', prompt: "What's the most embarrassing injury you've sustained?" },
                    { type: 'DARE', prompt: "Pretend to be stuck in slow motion." },
                    { type: 'TRUTH', prompt: "What's the most awkward thing you‚Äôve confessed to a child?" },
                    { type: 'DARE', prompt: "Give me a tour of the room as if you were a historian." },
                    { type: 'TRUTH', prompt: "What‚Äôs one thing you do that you hide from me?" },
                    { type: 'DARE', prompt: "Balance a book on your head and dance for 20 seconds." },
                    { type: 'TRUTH', prompt: "What‚Äôs the strangest rumor you've heard about me?" },
                    { type: 'DARE', prompt: "Try to mimic the sound of a crying baby." },
                    { type: 'TRUTH', prompt: "What's your most embarrassing physical feature?" },
                    { type: 'DARE', prompt: "Pretend to be a washing machine on the spin cycle." },
                    { type: 'TRUTH', prompt: "What's the weirdest thing you've seen me do?" },
                    { type: 'DARE', prompt: "Speak only in movie quotes until the next turn." }
                ]
            }
        };

        // --- CORE GAME FUNCTIONS ---
        function init() {
            document.getElementById('categorySelection').style.display = 'block';
        }

        function showPacks(categoryId) {
            currentCategory = categoryId;
            document.getElementById('categorySelection').classList.add('hidden');
            document.getElementById('packSelection').classList.remove('hidden');
            
            document.getElementById('packCategoryTitle').textContent = categoryTitles[categoryId];
            
            const packsGrid = document.getElementById('packsGrid');
            packsGrid.innerHTML = '';
            
            const categoryPrompts = tdPrompts[categoryId];
            let packIndex = 1;

            for (const packId in categoryPrompts) {
                if (categoryPrompts.hasOwnProperty(packId) && categoryPrompts[packId].length > 0) {
                    const promptsCount = categoryPrompts[packId].length;
                    
                    const packCard = `
                        <div class="pack-card" onclick="selectPack('${packId}')">
                            <div class="pack-number">${packIndex}</div>
                            <h3>PACK ${packIndex}</h3>
                            <p class="pack-questions">${promptsCount} CHALLENGES</p>
                        </div>
                    `;
                    packsGrid.innerHTML += packCard;
                    packIndex++;
                }
            }
        }

        function selectPack(packId) {
            currentPack = packId;
            currentPrompts = tdPrompts[currentCategory][packId];
            
            if (currentPrompts.length === 0) {
                 alert(`Selected pack is empty. Please choose an active pack.`);
                 return;
            }

            currentPromptIndex = 0;
            
            document.getElementById('packSelection').classList.add('hidden');
            document.getElementById('gameScreen').style.display = 'block';
            
            updateDisplay();
        }

        function updateDisplay() {
            const currentItem = currentPrompts[currentPromptIndex];
            const totalPrompts = currentPrompts.length;
            const promptsPlayed = currentPromptIndex + 1;
            const progress = (promptsPlayed / totalPrompts) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('promptCounter').textContent = `CHALLENGE ${promptsPlayed} OF ${totalPrompts}`;
            
            // Set the prompt type and text
            document.getElementById('typeLabel').textContent = currentItem.type;
            document.getElementById('promptText').textContent = currentItem.prompt;
            
            document.getElementById('prevBtn').disabled = currentPromptIndex === 0;
            document.getElementById('nextBtn').textContent = currentPromptIndex === totalPrompts - 1 ? 'FINISH' : 'NEXT ‚Üí';
        }

        function nextPrompt() {
            if (currentPromptIndex === currentPrompts.length - 1) {
                showEndScreen();
            } else {
                currentPromptIndex++;
                updateDisplay();
            }
        }

        function previousPrompt() {
            if (currentPromptIndex > 0) {
                currentPromptIndex--;
                updateDisplay();
            }
        }

        // --- BACK/QUIT FUNCTIONS ---
        function backToCategories() {
            document.getElementById('packSelection').classList.add('hidden');
            document.getElementById('categorySelection').classList.remove('hidden');
        }

        function quitToPacks() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('packSelection').classList.remove('hidden');
            currentPromptIndex = 0;
        }

        function showEndScreen() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('endScreen').style.display = 'block';
        }

        function backToPackSelection() {
            document.getElementById('endScreen').style.display = 'none';
            document.getElementById('packSelection').classList.remove('hidden');
            currentPromptIndex = 0;
        }

        function backToGames() {
            window.location.href = 'date-night.html';
        }

        window.onload = init;
    </script>
</body>
</html>
